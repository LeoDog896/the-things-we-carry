import{Y as me,S as we,i as Ce,s as Pe,O as ze,e as q,c as j,a as ee,d as b,b as U,g as Z,L as He,P as Qe,Q as Ze,R as Ke,q as ie,o as re,Z as at,w as fe,x as ue,y as ce,B as ve,_ as ne,F as be,T as xt,k as ae,l as nt,m as se,E as Ne,t as $,h as z,K as W,j as le,$ as de,G as pt,a0 as yt,v as St,V as wt,W as Ct}from"../chunks/index-a7bc5e6f.js";import{a as Pt}from"../chunks/index-f86470d0.js";import{r as Mt,d as oe,w as Ve}from"../chunks/index-1817af90.js";var Ee=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function At(P){return P&&P.__esModule&&Object.prototype.hasOwnProperty.call(P,"default")?P.default:P}var st={exports:{}};/*!
 * matter-js 0.18.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(P,y){(function(A,u){P.exports=u()})(Ee,function(){return function(p){var A={};function u(e){if(A[e])return A[e].exports;var l=A[e]={i:e,l:!1,exports:{}};return p[e].call(l.exports,l,l.exports,u),l.l=!0,l.exports}return u.m=p,u.c=A,u.d=function(e,l,r){u.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:r})},u.r=function(e){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,l){if(l&1&&(e=u(e)),l&8||l&4&&typeof e=="object"&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),l&2&&typeof e!="string")for(var n in e)u.d(r,n,function(v){return e[v]}.bind(null,n));return r},u.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(l,"a",l),l},u.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},u.p="",u(u.s=21)}([function(p,A){var u={};p.exports=u,function(){u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(l,r){var n,v;typeof r=="boolean"?(n=2,v=r):(n=1,v=!0);for(var o=n;o<arguments.length;o++){var f=arguments[o];if(f)for(var i in f)v&&f[i]&&f[i].constructor===Object&&(!l[i]||l[i].constructor===Object)?(l[i]=l[i]||{},u.extend(l[i],v,f[i])):l[i]=f[i]}return l},u.clone=function(l,r){return u.extend({},r,l)},u.keys=function(l){if(Object.keys)return Object.keys(l);var r=[];for(var n in l)r.push(n);return r},u.values=function(l){var r=[];if(Object.keys){for(var n=Object.keys(l),v=0;v<n.length;v++)r.push(l[n[v]]);return r}for(var o in l)r.push(l[o]);return r},u.get=function(l,r,n,v){r=r.split(".").slice(n,v);for(var o=0;o<r.length;o+=1)l=l[r[o]];return l},u.set=function(l,r,n,v,o){var f=r.split(".").slice(v,o);return u.get(l,r,0,-1)[f[f.length-1]]=n,n},u.shuffle=function(l){for(var r=l.length-1;r>0;r--){var n=Math.floor(u.random()*(r+1)),v=l[r];l[r]=l[n],l[n]=v}return l},u.choose=function(l){return l[Math.floor(u.random()*l.length)]},u.isElement=function(l){return typeof HTMLElement!="undefined"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},u.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},u.isFunction=function(l){return typeof l=="function"},u.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},u.isString=function(l){return toString.call(l)==="[object String]"},u.clamp=function(l,r,n){return l<r?r:l>n?n:l},u.sign=function(l){return l<0?-1:1},u.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(l,r){return l=typeof l!="undefined"?l:0,r=typeof r!="undefined"?r:1,l+e()*(r-l)};var e=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[l]||(u.warn(l),u._warnedOnce[l]=!0)},u.deprecated=function(l,r,n){l[r]=u.chain(function(){u.warnOnce("\u{1F505} deprecated \u{1F505}",n)},l[r])},u.nextId=function(){return u._nextId++},u.indexOf=function(l,r){if(l.indexOf)return l.indexOf(r);for(var n=0;n<l.length;n++)if(l[n]===r)return n;return-1},u.map=function(l,r){if(l.map)return l.map(r);for(var n=[],v=0;v<l.length;v+=1)n.push(r(l[v]));return n},u.topologicalSort=function(l){var r=[],n=[],v=[];for(var o in l)!n[o]&&!v[o]&&u._topologicalSort(o,n,v,l,r);return r},u._topologicalSort=function(l,r,n,v,o){var f=v[l]||[];n[l]=!0;for(var i=0;i<f.length;i+=1){var t=f[i];n[t]||r[t]||u._topologicalSort(t,r,n,v,o)}n[l]=!1,r[l]=!0,o.push(l)},u.chain=function(){for(var l=[],r=0;r<arguments.length;r+=1){var n=arguments[r];n._chained?l.push.apply(l,n._chained):l.push(n)}var v=function(){for(var o,f=new Array(arguments.length),i=0,t=arguments.length;i<t;i++)f[i]=arguments[i];for(i=0;i<l.length;i+=1){var a=l[i].apply(o,f);typeof a!="undefined"&&(o=a)}return o};return v._chained=l,v},u.chainPathBefore=function(l,r,n){return u.set(l,r,u.chain(n,u.get(l,r)))},u.chainPathAfter=function(l,r,n){return u.set(l,r,u.chain(u.get(l,r),n))},u.setDecomp=function(l){u._decomp=l},u.getDecomp=function(){var l=u._decomp;try{!l&&typeof window!="undefined"&&(l=window.decomp),!l&&typeof Ee!="undefined"&&(l=Ee.decomp)}catch{l=null}return l}}()},function(p,A){var u={};p.exports=u,function(){u.create=function(e){var l={min:{x:0,y:0},max:{x:0,y:0}};return e&&u.update(l,e),l},u.update=function(e,l,r){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<l.length;n++){var v=l[n];v.x>e.max.x&&(e.max.x=v.x),v.x<e.min.x&&(e.min.x=v.x),v.y>e.max.y&&(e.max.y=v.y),v.y<e.min.y&&(e.min.y=v.y)}r&&(r.x>0?e.max.x+=r.x:e.min.x+=r.x,r.y>0?e.max.y+=r.y:e.min.y+=r.y)},u.contains=function(e,l){return l.x>=e.min.x&&l.x<=e.max.x&&l.y>=e.min.y&&l.y<=e.max.y},u.overlaps=function(e,l){return e.min.x<=l.max.x&&e.max.x>=l.min.x&&e.max.y>=l.min.y&&e.min.y<=l.max.y},u.translate=function(e,l){e.min.x+=l.x,e.max.x+=l.x,e.min.y+=l.y,e.max.y+=l.y},u.shift=function(e,l){var r=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=l.x,e.max.x=l.x+r,e.min.y=l.y,e.max.y=l.y+n}}()},function(p,A){var u={};p.exports=u,function(){u.create=function(e,l){return{x:e||0,y:l||0}},u.clone=function(e){return{x:e.x,y:e.y}},u.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},u.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},u.rotate=function(e,l,r){var n=Math.cos(l),v=Math.sin(l);r||(r={});var o=e.x*n-e.y*v;return r.y=e.x*v+e.y*n,r.x=o,r},u.rotateAbout=function(e,l,r,n){var v=Math.cos(l),o=Math.sin(l);n||(n={});var f=r.x+((e.x-r.x)*v-(e.y-r.y)*o);return n.y=r.y+((e.x-r.x)*o+(e.y-r.y)*v),n.x=f,n},u.normalise=function(e){var l=u.magnitude(e);return l===0?{x:0,y:0}:{x:e.x/l,y:e.y/l}},u.dot=function(e,l){return e.x*l.x+e.y*l.y},u.cross=function(e,l){return e.x*l.y-e.y*l.x},u.cross3=function(e,l,r){return(l.x-e.x)*(r.y-e.y)-(l.y-e.y)*(r.x-e.x)},u.add=function(e,l,r){return r||(r={}),r.x=e.x+l.x,r.y=e.y+l.y,r},u.sub=function(e,l,r){return r||(r={}),r.x=e.x-l.x,r.y=e.y-l.y,r},u.mult=function(e,l){return{x:e.x*l,y:e.y*l}},u.div=function(e,l){return{x:e.x/l,y:e.y/l}},u.perp=function(e,l){return l=l===!0?-1:1,{x:l*-e.y,y:l*e.x}},u.neg=function(e){return{x:-e.x,y:-e.y}},u.angle=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)},u._temp=[u.create(),u.create(),u.create(),u.create(),u.create(),u.create()]}()},function(p,A,u){var e={};p.exports=e;var l=u(2),r=u(0);(function(){e.create=function(n,v){for(var o=[],f=0;f<n.length;f++){var i=n[f],t={x:i.x,y:i.y,index:f,body:v,isInternal:!1};o.push(t)}return o},e.fromPath=function(n,v){var o=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return n.replace(o,function(i,t,a){f.push({x:parseFloat(t),y:parseFloat(a)})}),e.create(f,v)},e.centre=function(n){for(var v=e.area(n,!0),o={x:0,y:0},f,i,t,a=0;a<n.length;a++)t=(a+1)%n.length,f=l.cross(n[a],n[t]),i=l.mult(l.add(n[a],n[t]),f),o=l.add(o,i);return l.div(o,6*v)},e.mean=function(n){for(var v={x:0,y:0},o=0;o<n.length;o++)v.x+=n[o].x,v.y+=n[o].y;return l.div(v,n.length)},e.area=function(n,v){for(var o=0,f=n.length-1,i=0;i<n.length;i++)o+=(n[f].x-n[i].x)*(n[f].y+n[i].y),f=i;return v?o/2:Math.abs(o)/2},e.inertia=function(n,v){for(var o=0,f=0,i=n,t,a,s=0;s<i.length;s++)a=(s+1)%i.length,t=Math.abs(l.cross(i[a],i[s])),o+=t*(l.dot(i[a],i[a])+l.dot(i[a],i[s])+l.dot(i[s],i[s])),f+=t;return v/6*(o/f)},e.translate=function(n,v,o){o=typeof o!="undefined"?o:1;var f=n.length,i=v.x*o,t=v.y*o,a;for(a=0;a<f;a++)n[a].x+=i,n[a].y+=t;return n},e.rotate=function(n,v,o){if(v!==0){var f=Math.cos(v),i=Math.sin(v),t=o.x,a=o.y,s=n.length,h,d,T,M;for(M=0;M<s;M++)h=n[M],d=h.x-t,T=h.y-a,h.x=t+(d*f-T*i),h.y=a+(d*i+T*f);return n}},e.contains=function(n,v){for(var o=v.x,f=v.y,i=n.length,t=n[i-1],a,s=0;s<i;s++){if(a=n[s],(o-t.x)*(a.y-t.y)+(f-t.y)*(t.x-a.x)>0)return!1;t=a}return!0},e.scale=function(n,v,o,f){if(v===1&&o===1)return n;f=f||e.centre(n);for(var i,t,a=0;a<n.length;a++)i=n[a],t=l.sub(i,f),n[a].x=f.x+t.x*v,n[a].y=f.y+t.y*o;return n},e.chamfer=function(n,v,o,f,i){typeof v=="number"?v=[v]:v=v||[8],o=typeof o!="undefined"?o:-1,f=f||2,i=i||14;for(var t=[],a=0;a<n.length;a++){var s=n[a-1>=0?a-1:n.length-1],h=n[a],d=n[(a+1)%n.length],T=v[a<v.length?a:v.length-1];if(T===0){t.push(h);continue}var M=l.normalise({x:h.y-s.y,y:s.x-h.x}),g=l.normalise({x:d.y-h.y,y:h.x-d.x}),m=Math.sqrt(2*Math.pow(T,2)),x=l.mult(r.clone(M),T),c=l.normalise(l.mult(l.add(M,g),.5)),C=l.sub(h,l.mult(c,m)),S=o;o===-1&&(S=Math.pow(T,.32)*1.75),S=r.clamp(S,f,i),S%2===1&&(S+=1);for(var I=Math.acos(l.dot(M,g)),w=I/S,E=0;E<S;E++)t.push(l.add(l.rotate(x,w*E),C))}return t},e.clockwiseSort=function(n){var v=e.mean(n);return n.sort(function(o,f){return l.angle(v,o)-l.angle(v,f)}),n},e.isConvex=function(n){var v=0,o=n.length,f,i,t,a;if(o<3)return null;for(f=0;f<o;f++)if(i=(f+1)%o,t=(f+2)%o,a=(n[i].x-n[f].x)*(n[t].y-n[i].y),a-=(n[i].y-n[f].y)*(n[t].x-n[i].x),a<0?v|=1:a>0&&(v|=2),v===3)return!1;return v!==0?!0:null},e.hull=function(n){var v=[],o=[],f,i;for(n=n.slice(0),n.sort(function(t,a){var s=t.x-a.x;return s!==0?s:t.y-a.y}),i=0;i<n.length;i+=1){for(f=n[i];o.length>=2&&l.cross3(o[o.length-2],o[o.length-1],f)<=0;)o.pop();o.push(f)}for(i=n.length-1;i>=0;i-=1){for(f=n[i];v.length>=2&&l.cross3(v[v.length-2],v[v.length-1],f)<=0;)v.pop();v.push(f)}return v.pop(),o.pop(),v.concat(o)}})()},function(p,A,u){var e={};p.exports=e;var l=u(0);(function(){e.on=function(r,n,v){for(var o=n.split(" "),f,i=0;i<o.length;i++)f=o[i],r.events=r.events||{},r.events[f]=r.events[f]||[],r.events[f].push(v);return v},e.off=function(r,n,v){if(!n){r.events={};return}typeof n=="function"&&(v=n,n=l.keys(r.events).join(" "));for(var o=n.split(" "),f=0;f<o.length;f++){var i=r.events[o[f]],t=[];if(v&&i)for(var a=0;a<i.length;a++)i[a]!==v&&t.push(i[a]);r.events[o[f]]=t}},e.trigger=function(r,n,v){var o,f,i,t,a=r.events;if(a&&l.keys(a).length>0){v||(v={}),o=n.split(" ");for(var s=0;s<o.length;s++)if(f=o[s],i=a[f],i){t=l.clone(v,!1),t.name=f,t.source=r;for(var h=0;h<i.length;h++)i[h].apply(r,[t])}}}})()},function(p,A,u){var e={};p.exports=e;var l=u(4),r=u(0),n=u(1),v=u(6);(function(){e.create=function(o){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},o)},e.setModified=function(o,f,i,t){if(o.isModified=f,f&&o.cache&&(o.cache.allBodies=null,o.cache.allConstraints=null,o.cache.allComposites=null),i&&o.parent&&e.setModified(o.parent,f,i,t),t)for(var a=0;a<o.composites.length;a++){var s=o.composites[a];e.setModified(s,f,i,t)}},e.add=function(o,f){var i=[].concat(f);l.trigger(o,"beforeAdd",{object:f});for(var t=0;t<i.length;t++){var a=i[t];switch(a.type){case"body":if(a.parent!==a){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(o,a);break;case"constraint":e.addConstraint(o,a);break;case"composite":e.addComposite(o,a);break;case"mouseConstraint":e.addConstraint(o,a.constraint);break}}return l.trigger(o,"afterAdd",{object:f}),o},e.remove=function(o,f,i){var t=[].concat(f);l.trigger(o,"beforeRemove",{object:f});for(var a=0;a<t.length;a++){var s=t[a];switch(s.type){case"body":e.removeBody(o,s,i);break;case"constraint":e.removeConstraint(o,s,i);break;case"composite":e.removeComposite(o,s,i);break;case"mouseConstraint":e.removeConstraint(o,s.constraint);break}}return l.trigger(o,"afterRemove",{object:f}),o},e.addComposite=function(o,f){return o.composites.push(f),f.parent=o,e.setModified(o,!0,!0,!1),o},e.removeComposite=function(o,f,i){var t=r.indexOf(o.composites,f);if(t!==-1&&e.removeCompositeAt(o,t),i)for(var a=0;a<o.composites.length;a++)e.removeComposite(o.composites[a],f,!0);return o},e.removeCompositeAt=function(o,f){return o.composites.splice(f,1),e.setModified(o,!0,!0,!1),o},e.addBody=function(o,f){return o.bodies.push(f),e.setModified(o,!0,!0,!1),o},e.removeBody=function(o,f,i){var t=r.indexOf(o.bodies,f);if(t!==-1&&e.removeBodyAt(o,t),i)for(var a=0;a<o.composites.length;a++)e.removeBody(o.composites[a],f,!0);return o},e.removeBodyAt=function(o,f){return o.bodies.splice(f,1),e.setModified(o,!0,!0,!1),o},e.addConstraint=function(o,f){return o.constraints.push(f),e.setModified(o,!0,!0,!1),o},e.removeConstraint=function(o,f,i){var t=r.indexOf(o.constraints,f);if(t!==-1&&e.removeConstraintAt(o,t),i)for(var a=0;a<o.composites.length;a++)e.removeConstraint(o.composites[a],f,!0);return o},e.removeConstraintAt=function(o,f){return o.constraints.splice(f,1),e.setModified(o,!0,!0,!1),o},e.clear=function(o,f,i){if(i)for(var t=0;t<o.composites.length;t++)e.clear(o.composites[t],f,!0);return f?o.bodies=o.bodies.filter(function(a){return a.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,e.setModified(o,!0,!0,!1),o},e.allBodies=function(o){if(o.cache&&o.cache.allBodies)return o.cache.allBodies;for(var f=[].concat(o.bodies),i=0;i<o.composites.length;i++)f=f.concat(e.allBodies(o.composites[i]));return o.cache&&(o.cache.allBodies=f),f},e.allConstraints=function(o){if(o.cache&&o.cache.allConstraints)return o.cache.allConstraints;for(var f=[].concat(o.constraints),i=0;i<o.composites.length;i++)f=f.concat(e.allConstraints(o.composites[i]));return o.cache&&(o.cache.allConstraints=f),f},e.allComposites=function(o){if(o.cache&&o.cache.allComposites)return o.cache.allComposites;for(var f=[].concat(o.composites),i=0;i<o.composites.length;i++)f=f.concat(e.allComposites(o.composites[i]));return o.cache&&(o.cache.allComposites=f),f},e.get=function(o,f,i){var t,a;switch(i){case"body":t=e.allBodies(o);break;case"constraint":t=e.allConstraints(o);break;case"composite":t=e.allComposites(o).concat(o);break}return t?(a=t.filter(function(s){return s.id.toString()===f.toString()}),a.length===0?null:a[0]):null},e.move=function(o,f,i){return e.remove(o,f),e.add(i,f),o},e.rebase=function(o){for(var f=e.allBodies(o).concat(e.allConstraints(o)).concat(e.allComposites(o)),i=0;i<f.length;i++)f[i].id=r.nextId();return o},e.translate=function(o,f,i){for(var t=i?e.allBodies(o):o.bodies,a=0;a<t.length;a++)v.translate(t[a],f);return o},e.rotate=function(o,f,i,t){for(var a=Math.cos(f),s=Math.sin(f),h=t?e.allBodies(o):o.bodies,d=0;d<h.length;d++){var T=h[d],M=T.position.x-i.x,g=T.position.y-i.y;v.setPosition(T,{x:i.x+(M*a-g*s),y:i.y+(M*s+g*a)}),v.rotate(T,f)}return o},e.scale=function(o,f,i,t,a){for(var s=a?e.allBodies(o):o.bodies,h=0;h<s.length;h++){var d=s[h],T=d.position.x-t.x,M=d.position.y-t.y;v.setPosition(d,{x:t.x+T*f,y:t.y+M*i}),v.scale(d,f,i)}return o},e.bounds=function(o){for(var f=e.allBodies(o),i=[],t=0;t<f.length;t+=1){var a=f[t];i.push(a.bounds.min,a.bounds.max)}return n.create(i)}})()},function(p,A,u){var e={};p.exports=e;var l=u(3),r=u(2),n=u(7);u(16);var v=u(0),o=u(1),f=u(11);(function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(t){var a={id:v.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},s=v.extend(a,t);return i(s,t),s},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var i=function(t,a){a=a||{},e.set(t,{bounds:t.bounds||o.create(t.vertices),positionPrev:t.positionPrev||r.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),l.rotate(t.vertices,t.angle,t.position),f.rotate(t.axes,t.angle),o.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:a.axes||t.axes,area:a.area||t.area,mass:a.mass||t.mass,inertia:a.inertia||t.inertia});var s=t.isStatic?"#14151f":v.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),h=t.isStatic?"#555":"#ccc",d=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||s,t.render.strokeStyle=t.render.strokeStyle||h,t.render.lineWidth=t.render.lineWidth||d,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,a,s){var h;typeof a=="string"&&(h=a,a={},a[h]=s);for(h in a)if(!!Object.prototype.hasOwnProperty.call(a,h))switch(s=a[h],h){case"isStatic":e.setStatic(t,s);break;case"isSleeping":n.set(t,s);break;case"mass":e.setMass(t,s);break;case"density":e.setDensity(t,s);break;case"inertia":e.setInertia(t,s);break;case"vertices":e.setVertices(t,s);break;case"position":e.setPosition(t,s);break;case"angle":e.setAngle(t,s);break;case"velocity":e.setVelocity(t,s);break;case"angularVelocity":e.setAngularVelocity(t,s);break;case"parts":e.setParts(t,s);break;case"centre":e.setCentre(t,s);break;default:t[h]=s}},e.setStatic=function(t,a){for(var s=0;s<t.parts.length;s++){var h=t.parts[s];h.isStatic=a,a?(h._original={restitution:h.restitution,friction:h.friction,mass:h.mass,inertia:h.inertia,density:h.density,inverseMass:h.inverseMass,inverseInertia:h.inverseInertia},h.restitution=0,h.friction=1,h.mass=h.inertia=h.density=1/0,h.inverseMass=h.inverseInertia=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.angularVelocity=0,h.speed=0,h.angularSpeed=0,h.motion=0):h._original&&(h.restitution=h._original.restitution,h.friction=h._original.friction,h.mass=h._original.mass,h.inertia=h._original.inertia,h.density=h._original.density,h.inverseMass=h._original.inverseMass,h.inverseInertia=h._original.inverseInertia,h._original=null)}},e.setMass=function(t,a){var s=t.inertia/(t.mass/6);t.inertia=s*(a/6),t.inverseInertia=1/t.inertia,t.mass=a,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,a){e.setMass(t,a*t.area),t.density=a},e.setInertia=function(t,a){t.inertia=a,t.inverseInertia=1/t.inertia},e.setVertices=function(t,a){a[0].body===t?t.vertices=a:t.vertices=l.create(a,t),t.axes=f.fromVertices(t.vertices),t.area=l.area(t.vertices),e.setMass(t,t.density*t.area);var s=l.centre(t.vertices);l.translate(t.vertices,s,-1),e.setInertia(t,e._inertiaScale*l.inertia(t.vertices,t.mass)),l.translate(t.vertices,t.position),o.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,a,s){var h;for(a=a.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,h=0;h<a.length;h++){var d=a[h];d!==t&&(d.parent=t,t.parts.push(d))}if(t.parts.length!==1){if(s=typeof s!="undefined"?s:!0,s){var T=[];for(h=0;h<a.length;h++)T=T.concat(a[h].vertices);l.clockwiseSort(T);var M=l.hull(T),g=l.centre(M);e.setVertices(t,M),l.translate(t.vertices,g)}var m=e._totalProperties(t);t.area=m.area,t.parent=t,t.position.x=m.centre.x,t.position.y=m.centre.y,t.positionPrev.x=m.centre.x,t.positionPrev.y=m.centre.y,e.setMass(t,m.mass),e.setInertia(t,m.inertia),e.setPosition(t,m.centre)}},e.setCentre=function(t,a,s){s?(t.positionPrev.x+=a.x,t.positionPrev.y+=a.y,t.position.x+=a.x,t.position.y+=a.y):(t.positionPrev.x=a.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=a.y-(t.position.y-t.positionPrev.y),t.position.x=a.x,t.position.y=a.y)},e.setPosition=function(t,a){var s=r.sub(a,t.position);t.positionPrev.x+=s.x,t.positionPrev.y+=s.y;for(var h=0;h<t.parts.length;h++){var d=t.parts[h];d.position.x+=s.x,d.position.y+=s.y,l.translate(d.vertices,s),o.update(d.bounds,d.vertices,t.velocity)}},e.setAngle=function(t,a){var s=a-t.angle;t.anglePrev+=s;for(var h=0;h<t.parts.length;h++){var d=t.parts[h];d.angle+=s,l.rotate(d.vertices,s,t.position),f.rotate(d.axes,s),o.update(d.bounds,d.vertices,t.velocity),h>0&&r.rotateAbout(d.position,s,t.position,d.position)}},e.setVelocity=function(t,a){t.positionPrev.x=t.position.x-a.x,t.positionPrev.y=t.position.y-a.y,t.velocity.x=a.x,t.velocity.y=a.y,t.speed=r.magnitude(t.velocity)},e.setAngularVelocity=function(t,a){t.anglePrev=t.angle-a,t.angularVelocity=a,t.angularSpeed=Math.abs(t.angularVelocity)},e.translate=function(t,a){e.setPosition(t,r.add(t.position,a))},e.rotate=function(t,a,s){if(!s)e.setAngle(t,t.angle+a);else{var h=Math.cos(a),d=Math.sin(a),T=t.position.x-s.x,M=t.position.y-s.y;e.setPosition(t,{x:s.x+(T*h-M*d),y:s.y+(T*d+M*h)}),e.setAngle(t,t.angle+a)}},e.scale=function(t,a,s,h){var d=0,T=0;h=h||t.position;for(var M=0;M<t.parts.length;M++){var g=t.parts[M];l.scale(g.vertices,a,s,h),g.axes=f.fromVertices(g.vertices),g.area=l.area(g.vertices),e.setMass(g,t.density*g.area),l.translate(g.vertices,{x:-g.position.x,y:-g.position.y}),e.setInertia(g,e._inertiaScale*l.inertia(g.vertices,g.mass)),l.translate(g.vertices,{x:g.position.x,y:g.position.y}),M>0&&(d+=g.area,T+=g.inertia),g.position.x=h.x+(g.position.x-h.x)*a,g.position.y=h.y+(g.position.y-h.y)*s,o.update(g.bounds,g.vertices,t.velocity)}t.parts.length>1&&(t.area=d,t.isStatic||(e.setMass(t,t.density*d),e.setInertia(t,T))),t.circleRadius&&(a===s?t.circleRadius*=a:t.circleRadius=null)},e.update=function(t,a,s,h){var d=Math.pow(a*s*t.timeScale,2),T=1-t.frictionAir*s*t.timeScale,M=t.position.x-t.positionPrev.x,g=t.position.y-t.positionPrev.y;t.velocity.x=M*T*h+t.force.x/t.mass*d,t.velocity.y=g*T*h+t.force.y/t.mass*d,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*T*h+t.torque/t.inertia*d,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=r.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var m=0;m<t.parts.length;m++){var x=t.parts[m];l.translate(x.vertices,t.velocity),m>0&&(x.position.x+=t.velocity.x,x.position.y+=t.velocity.y),t.angularVelocity!==0&&(l.rotate(x.vertices,t.angularVelocity,t.position),f.rotate(x.axes,t.angularVelocity),m>0&&r.rotateAbout(x.position,t.angularVelocity,t.position,x.position)),o.update(x.bounds,x.vertices,t.velocity)}},e.applyForce=function(t,a,s){t.force.x+=s.x,t.force.y+=s.y;var h={x:a.x-t.position.x,y:a.y-t.position.y};t.torque+=h.x*s.y-h.y*s.x},e._totalProperties=function(t){for(var a={mass:0,area:0,inertia:0,centre:{x:0,y:0}},s=t.parts.length===1?0:1;s<t.parts.length;s++){var h=t.parts[s],d=h.mass!==1/0?h.mass:1;a.mass+=d,a.area+=h.area,a.inertia+=h.inertia,a.centre=r.add(a.centre,r.mult(h.position,d))}return a.centre=r.div(a.centre,a.mass),a}})()},function(p,A,u){var e={};p.exports=e;var l=u(4);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(r,n){for(var v=n*n*n,o=0;o<r.length;o++){var f=r[o],i=f.speed*f.speed+f.angularSpeed*f.angularSpeed;if(f.force.x!==0||f.force.y!==0){e.set(f,!1);continue}var t=Math.min(f.motion,i),a=Math.max(f.motion,i);f.motion=e._minBias*t+(1-e._minBias)*a,f.sleepThreshold>0&&f.motion<e._motionSleepThreshold*v?(f.sleepCounter+=1,f.sleepCounter>=f.sleepThreshold&&e.set(f,!0)):f.sleepCounter>0&&(f.sleepCounter-=1)}},e.afterCollisions=function(r,n){for(var v=n*n*n,o=0;o<r.length;o++){var f=r[o];if(!!f.isActive){var i=f.collision,t=i.bodyA.parent,a=i.bodyB.parent;if(!(t.isSleeping&&a.isSleeping||t.isStatic||a.isStatic)&&(t.isSleeping||a.isSleeping)){var s=t.isSleeping&&!t.isStatic?t:a,h=s===t?a:t;!s.isStatic&&h.motion>e._motionWakeThreshold*v&&e.set(s,!1)}}}},e.set=function(r,n){var v=r.isSleeping;n?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,v||l.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,v&&l.trigger(r,"sleepEnd"))}})()},function(p,A,u){var e={};p.exports=e;var l=u(3),r=u(9);(function(){var n=[],v={overlap:0,axis:null},o={overlap:0,axis:null};e.create=function(f,i){return{pair:null,collided:!1,bodyA:f,bodyB:i,parentA:f.parent,parentB:i.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},e.collides=function(f,i,t){if(e._overlapAxes(v,f.vertices,i.vertices,f.axes),v.overlap<=0||(e._overlapAxes(o,i.vertices,f.vertices,i.axes),o.overlap<=0))return null;var a=t&&t.table[r.id(f,i)],s;a?s=a.collision:(s=e.create(f,i),s.collided=!0,s.bodyA=f.id<i.id?f:i,s.bodyB=f.id<i.id?i:f,s.parentA=s.bodyA.parent,s.parentB=s.bodyB.parent),f=s.bodyA,i=s.bodyB;var h;v.overlap<o.overlap?h=v:h=o;var d=s.normal,T=s.supports,M=h.axis,g=M.x,m=M.y;g*(i.position.x-f.position.x)+m*(i.position.y-f.position.y)<0?(d.x=g,d.y=m):(d.x=-g,d.y=-m),s.tangent.x=-d.y,s.tangent.y=d.x,s.depth=h.overlap,s.penetration.x=d.x*s.depth,s.penetration.y=d.y*s.depth;var x=e._findSupports(f,i,d,1),c=0;if(l.contains(f.vertices,x[0])&&(T[c++]=x[0]),l.contains(f.vertices,x[1])&&(T[c++]=x[1]),c<2){var C=e._findSupports(i,f,d,-1);l.contains(i.vertices,C[0])&&(T[c++]=C[0]),c<2&&l.contains(i.vertices,C[1])&&(T[c++]=C[1])}return c===0&&(T[c++]=x[0]),T.length=c,s},e._overlapAxes=function(f,i,t,a){var s=i.length,h=t.length,d=i[0].x,T=i[0].y,M=t[0].x,g=t[0].y,m=a.length,x=Number.MAX_VALUE,c=0,C,S,I,w,E,B;for(E=0;E<m;E++){var R=a[E],L=R.x,k=R.y,D=d*L+T*k,O=M*L+g*k,V=D,N=O;for(B=1;B<s;B+=1)w=i[B].x*L+i[B].y*k,w>V?V=w:w<D&&(D=w);for(B=1;B<h;B+=1)w=t[B].x*L+t[B].y*k,w>N?N=w:w<O&&(O=w);if(S=V-O,I=N-D,C=S<I?S:I,C<x&&(x=C,c=E,C<=0))break}f.axis=a[c],f.overlap=x},e._projectToAxis=function(f,i,t){for(var a=i[0].x*t.x+i[0].y*t.y,s=a,h=1;h<i.length;h+=1){var d=i[h].x*t.x+i[h].y*t.y;d>s?s=d:d<a&&(a=d)}f.min=a,f.max=s},e._findSupports=function(f,i,t,a){var s=i.vertices,h=s.length,d=f.position.x,T=f.position.y,M=t.x*a,g=t.y*a,m=Number.MAX_VALUE,x,c,C,S,I;for(I=0;I<h;I+=1)c=s[I],S=M*(d-c.x)+g*(T-c.y),S<m&&(m=S,x=c);return C=s[(h+x.index-1)%h],m=M*(d-C.x)+g*(T-C.y),c=s[(x.index+1)%h],M*(d-c.x)+g*(T-c.y)<m?(n[0]=x,n[1]=c,n):(n[0]=x,n[1]=C,n)}})()},function(p,A,u){var e={};p.exports=e;var l=u(17);(function(){e.create=function(r,n){var v=r.bodyA,o=r.bodyB,f={id:e.id(v,o),bodyA:v,bodyB:o,collision:r,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:v.isSensor||o.isSensor,timeCreated:n,timeUpdated:n,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(f,r,n),f},e.update=function(r,n,v){var o=r.contacts,f=n.supports,i=r.activeContacts,t=n.parentA,a=n.parentB,s=t.vertices.length;r.isActive=!0,r.timeUpdated=v,r.collision=n,r.separation=n.depth,r.inverseMass=t.inverseMass+a.inverseMass,r.friction=t.friction<a.friction?t.friction:a.friction,r.frictionStatic=t.frictionStatic>a.frictionStatic?t.frictionStatic:a.frictionStatic,r.restitution=t.restitution>a.restitution?t.restitution:a.restitution,r.slop=t.slop>a.slop?t.slop:a.slop,n.pair=r,i.length=0;for(var h=0;h<f.length;h++){var d=f[h],T=d.body===t?d.index:s+d.index,M=o[T];M?i.push(M):i.push(o[T]=l.create(d))}},e.setActive=function(r,n,v){n?(r.isActive=!0,r.timeUpdated=v):(r.isActive=!1,r.activeContacts.length=0)},e.id=function(r,n){return r.id<n.id?"A"+r.id+"B"+n.id:"A"+n.id+"B"+r.id}})()},function(p,A,u){var e={};p.exports=e;var l=u(3),r=u(2),n=u(7),v=u(1),o=u(11),f=u(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(i){var t=i;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var a=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,s=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,h=r.magnitude(r.sub(a,s));t.length=typeof t.length!="undefined"?t.length:h,t.id=t.id||f.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var d={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(d.type="pin",d.anchors=!1):t.stiffness<.9&&(d.type="spring"),t.render=f.extend(d,t.render),t},e.preSolveAll=function(i){for(var t=0;t<i.length;t+=1){var a=i[t],s=a.constraintImpulse;a.isStatic||s.x===0&&s.y===0&&s.angle===0||(a.position.x+=s.x,a.position.y+=s.y,a.angle+=s.angle)}},e.solveAll=function(i,t){for(var a=0;a<i.length;a+=1){var s=i[a],h=!s.bodyA||s.bodyA&&s.bodyA.isStatic,d=!s.bodyB||s.bodyB&&s.bodyB.isStatic;(h||d)&&e.solve(i[a],t)}for(a=0;a<i.length;a+=1)s=i[a],h=!s.bodyA||s.bodyA&&s.bodyA.isStatic,d=!s.bodyB||s.bodyB&&s.bodyB.isStatic,!h&&!d&&e.solve(i[a],t)},e.solve=function(i,t){var a=i.bodyA,s=i.bodyB,h=i.pointA,d=i.pointB;if(!(!a&&!s)){a&&!a.isStatic&&(r.rotate(h,a.angle-i.angleA,h),i.angleA=a.angle),s&&!s.isStatic&&(r.rotate(d,s.angle-i.angleB,d),i.angleB=s.angle);var T=h,M=d;if(a&&(T=r.add(a.position,h)),s&&(M=r.add(s.position,d)),!(!T||!M)){var g=r.sub(T,M),m=r.magnitude(g);m<e._minLength&&(m=e._minLength);var x=(m-i.length)/m,c=i.stiffness<1?i.stiffness*t:i.stiffness,C=r.mult(g,x*c),S=(a?a.inverseMass:0)+(s?s.inverseMass:0),I=(a?a.inverseInertia:0)+(s?s.inverseInertia:0),w=S+I,E,B,R,L,k;if(i.damping){var D=r.create();R=r.div(g,m),k=r.sub(s&&r.sub(s.position,s.positionPrev)||D,a&&r.sub(a.position,a.positionPrev)||D),L=r.dot(R,k)}a&&!a.isStatic&&(B=a.inverseMass/S,a.constraintImpulse.x-=C.x*B,a.constraintImpulse.y-=C.y*B,a.position.x-=C.x*B,a.position.y-=C.y*B,i.damping&&(a.positionPrev.x-=i.damping*R.x*L*B,a.positionPrev.y-=i.damping*R.y*L*B),E=r.cross(h,C)/w*e._torqueDampen*a.inverseInertia*(1-i.angularStiffness),a.constraintImpulse.angle-=E,a.angle-=E),s&&!s.isStatic&&(B=s.inverseMass/S,s.constraintImpulse.x+=C.x*B,s.constraintImpulse.y+=C.y*B,s.position.x+=C.x*B,s.position.y+=C.y*B,i.damping&&(s.positionPrev.x+=i.damping*R.x*L*B,s.positionPrev.y+=i.damping*R.y*L*B),E=r.cross(d,C)/w*e._torqueDampen*s.inverseInertia*(1-i.angularStiffness),s.constraintImpulse.angle+=E,s.angle+=E)}}},e.postSolveAll=function(i){for(var t=0;t<i.length;t++){var a=i[t],s=a.constraintImpulse;if(!(a.isStatic||s.x===0&&s.y===0&&s.angle===0)){n.set(a,!1);for(var h=0;h<a.parts.length;h++){var d=a.parts[h];l.translate(d.vertices,s),h>0&&(d.position.x+=s.x,d.position.y+=s.y),s.angle!==0&&(l.rotate(d.vertices,s.angle,a.position),o.rotate(d.axes,s.angle),h>0&&r.rotateAbout(d.position,s.angle,a.position,d.position)),v.update(d.bounds,d.vertices,a.velocity)}s.angle*=e._warming,s.x*=e._warming,s.y*=e._warming}}},e.pointAWorld=function(i){return{x:(i.bodyA?i.bodyA.position.x:0)+i.pointA.x,y:(i.bodyA?i.bodyA.position.y:0)+i.pointA.y}},e.pointBWorld=function(i){return{x:(i.bodyB?i.bodyB.position.x:0)+i.pointB.x,y:(i.bodyB?i.bodyB.position.y:0)+i.pointB.y}}})()},function(p,A,u){var e={};p.exports=e;var l=u(2),r=u(0);(function(){e.fromVertices=function(n){for(var v={},o=0;o<n.length;o++){var f=(o+1)%n.length,i=l.normalise({x:n[f].y-n[o].y,y:n[o].x-n[f].x}),t=i.y===0?1/0:i.x/i.y;t=t.toFixed(3).toString(),v[t]=i}return r.values(v)},e.rotate=function(n,v){if(v!==0)for(var o=Math.cos(v),f=Math.sin(v),i=0;i<n.length;i++){var t=n[i],a;a=t.x*o-t.y*f,t.y=t.x*f+t.y*o,t.x=a}}})()},function(p,A,u){var e={};p.exports=e;var l=u(3),r=u(0),n=u(6),v=u(1),o=u(2);(function(){e.rectangle=function(f,i,t,a,s){s=s||{};var h={label:"Rectangle Body",position:{x:f,y:i},vertices:l.fromPath("L 0 0 L "+t+" 0 L "+t+" "+a+" L 0 "+a)};if(s.chamfer){var d=s.chamfer;h.vertices=l.chamfer(h.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete s.chamfer}return n.create(r.extend({},h,s))},e.trapezoid=function(f,i,t,a,s,h){h=h||{},s*=.5;var d=(1-s*2)*t,T=t*s,M=T+d,g=M+T,m;s<.5?m="L 0 0 L "+T+" "+-a+" L "+M+" "+-a+" L "+g+" 0":m="L 0 0 L "+M+" "+-a+" L "+g+" 0";var x={label:"Trapezoid Body",position:{x:f,y:i},vertices:l.fromPath(m)};if(h.chamfer){var c=h.chamfer;x.vertices=l.chamfer(x.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete h.chamfer}return n.create(r.extend({},x,h))},e.circle=function(f,i,t,a,s){a=a||{};var h={label:"Circle Body",circleRadius:t};s=s||25;var d=Math.ceil(Math.max(10,Math.min(s,t)));return d%2===1&&(d+=1),e.polygon(f,i,d,t,r.extend({},h,a))},e.polygon=function(f,i,t,a,s){if(s=s||{},t<3)return e.circle(f,i,a,s);for(var h=2*Math.PI/t,d="",T=h*.5,M=0;M<t;M+=1){var g=T+M*h,m=Math.cos(g)*a,x=Math.sin(g)*a;d+="L "+m.toFixed(3)+" "+x.toFixed(3)+" "}var c={label:"Polygon Body",position:{x:f,y:i},vertices:l.fromPath(d)};if(s.chamfer){var C=s.chamfer;c.vertices=l.chamfer(c.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete s.chamfer}return n.create(r.extend({},c,s))},e.fromVertices=function(f,i,t,a,s,h,d,T){var M=r.getDecomp(),g,m,x,c,C,S,I,w,E,B,R;for(g=Boolean(M&&M.quickDecomp),a=a||{},x=[],s=typeof s!="undefined"?s:!1,h=typeof h!="undefined"?h:.01,d=typeof d!="undefined"?d:10,T=typeof T!="undefined"?T:.01,r.isArray(t[0])||(t=[t]),B=0;B<t.length;B+=1)if(S=t[B],c=l.isConvex(S),C=!c,C&&!g&&r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),c||!g)c?S=l.clockwiseSort(S):S=l.hull(S),x.push({position:{x:f,y:i},vertices:S});else{var L=S.map(function(J){return[J.x,J.y]});M.makeCCW(L),h!==!1&&M.removeCollinearPoints(L,h),T!==!1&&M.removeDuplicatePoints&&M.removeDuplicatePoints(L,T);var k=M.quickDecomp(L);for(I=0;I<k.length;I++){var D=k[I],O=D.map(function(J){return{x:J[0],y:J[1]}});d>0&&l.area(O)<d||x.push({position:l.centre(O),vertices:O})}}for(I=0;I<x.length;I++)x[I]=n.create(r.extend(x[I],a));if(s){var V=5;for(I=0;I<x.length;I++){var N=x[I];for(w=I+1;w<x.length;w++){var G=x[w];if(v.overlaps(N.bounds,G.bounds)){var Q=N.vertices,H=G.vertices;for(E=0;E<N.vertices.length;E++)for(R=0;R<G.vertices.length;R++){var _=o.magnitudeSquared(o.sub(Q[(E+1)%Q.length],H[R])),K=o.magnitudeSquared(o.sub(Q[E],H[(R+1)%H.length]));_<V&&K<V&&(Q[E].isInternal=!0,H[R].isInternal=!0)}}}}}return x.length>1?(m=n.create(r.extend({parts:x.slice(0)},a)),n.setPosition(m,{x:f,y:i}),m):x[0]}})()},function(p,A,u){var e={};p.exports=e;var l=u(0);(function(){e.create=function(r){var n={};return r||l.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=r||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=parseInt(n.element.getAttribute("data-pixel-ratio"),10)||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(v){var o=e._getRelativeMousePosition(v,n.element,n.pixelRatio),f=v.changedTouches;f&&(n.button=0,v.preventDefault()),n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=v},n.mousedown=function(v){var o=e._getRelativeMousePosition(v,n.element,n.pixelRatio),f=v.changedTouches;f?(n.button=0,v.preventDefault()):n.button=v.button,n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=v},n.mouseup=function(v){var o=e._getRelativeMousePosition(v,n.element,n.pixelRatio),f=v.changedTouches;f&&v.preventDefault(),n.button=-1,n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=v},n.mousewheel=function(v){n.wheelDelta=Math.max(-1,Math.min(1,v.wheelDelta||-v.detail)),v.preventDefault()},e.setElement(n,n.element),n},e.setElement=function(r,n){r.element=n,n.addEventListener("mousemove",r.mousemove),n.addEventListener("mousedown",r.mousedown),n.addEventListener("mouseup",r.mouseup),n.addEventListener("mousewheel",r.mousewheel),n.addEventListener("DOMMouseScroll",r.mousewheel),n.addEventListener("touchmove",r.mousemove),n.addEventListener("touchstart",r.mousedown),n.addEventListener("touchend",r.mouseup)},e.clearSourceEvents=function(r){r.sourceEvents.mousemove=null,r.sourceEvents.mousedown=null,r.sourceEvents.mouseup=null,r.sourceEvents.mousewheel=null,r.wheelDelta=0},e.setOffset=function(r,n){r.offset.x=n.x,r.offset.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e.setScale=function(r,n){r.scale.x=n.x,r.scale.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e._getRelativeMousePosition=function(r,n,v){var o=n.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,i=window.pageXOffset!==void 0?window.pageXOffset:f.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:f.scrollTop,a=r.changedTouches,s,h;return a?(s=a[0].pageX-o.left-i,h=a[0].pageY-o.top-t):(s=r.pageX-o.left-i,h=r.pageY-o.top-t),{x:s/(n.clientWidth/(n.width||n.clientWidth)*v),y:h/(n.clientHeight/(n.height||n.clientHeight)*v)}}})()},function(p,A,u){var e={};p.exports=e;var l=u(0),r=u(8);(function(){e.create=function(n){var v={bodies:[],pairs:null};return l.extend(v,n)},e.setBodies=function(n,v){n.bodies=v.slice(0)},e.clear=function(n){n.bodies=[]},e.collisions=function(n){var v=[],o=n.pairs,f=n.bodies,i=f.length,t=e.canCollide,a=r.collides,s,h;for(f.sort(e._compareBoundsX),s=0;s<i;s++){var d=f[s],T=d.bounds,M=d.bounds.max.x,g=d.bounds.max.y,m=d.bounds.min.y,x=d.isStatic||d.isSleeping,c=d.parts.length,C=c===1;for(h=s+1;h<i;h++){var S=f[h],I=S.bounds;if(I.min.x>M)break;if(!(g<I.min.y||m>I.max.y)&&!(x&&(S.isStatic||S.isSleeping))&&!!t(d.collisionFilter,S.collisionFilter)){var w=S.parts.length;if(C&&w===1){var E=a(d,S,o);E&&v.push(E)}else for(var B=c>1?1:0,R=w>1?1:0,L=B;L<c;L++)for(var k=d.parts[L],T=k.bounds,D=R;D<w;D++){var O=S.parts[D],I=O.bounds;if(!(T.min.x>I.max.x||T.max.x<I.min.x||T.max.y<I.min.y||T.min.y>I.max.y)){var E=a(k,O,o);E&&v.push(E)}}}}}return v},e.canCollide=function(n,v){return n.group===v.group&&n.group!==0?n.group>0:(n.mask&v.category)!==0&&(v.mask&n.category)!==0},e._compareBoundsX=function(n,v){return n.bounds.min.x-v.bounds.min.x}})()},function(p,A,u){var e={};p.exports=e;var l=u(0);(function(){e._registry={},e.register=function(r){if(e.isPlugin(r)||l.warn("Plugin.register:",e.toString(r),"does not implement all required fields."),r.name in e._registry){var n=e._registry[r.name],v=e.versionParse(r.version).number,o=e.versionParse(n.version).number;v>o?(l.warn("Plugin.register:",e.toString(n),"was upgraded to",e.toString(r)),e._registry[r.name]=r):v<o?l.warn("Plugin.register:",e.toString(n),"can not be downgraded to",e.toString(r)):r!==n&&l.warn("Plugin.register:",e.toString(r),"is already registered to different plugin object")}else e._registry[r.name]=r;return r},e.resolve=function(r){return e._registry[e.dependencyParse(r).name]},e.toString=function(r){return typeof r=="string"?r:(r.name||"anonymous")+"@"+(r.version||r.range||"0.0.0")},e.isPlugin=function(r){return r&&r.name&&r.version&&r.install},e.isUsed=function(r,n){return r.used.indexOf(n)>-1},e.isFor=function(r,n){var v=r.for&&e.dependencyParse(r.for);return!r.for||n.name===v.name&&e.versionSatisfies(n.version,v.range)},e.use=function(r,n){if(r.uses=(r.uses||[]).concat(n||[]),r.uses.length===0){l.warn("Plugin.use:",e.toString(r),"does not specify any dependencies to install.");return}for(var v=e.dependencies(r),o=l.topologicalSort(v),f=[],i=0;i<o.length;i+=1)if(o[i]!==r.name){var t=e.resolve(o[i]);if(!t){f.push("\u274C "+o[i]);continue}e.isUsed(r,t.name)||(e.isFor(t,r)||(l.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(r)+"."),t._warned=!0),t.install?t.install(r):(l.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(f.push("\u{1F536} "+e.toString(t)),delete t._warned):f.push("\u2705 "+e.toString(t)),r.used.push(t.name))}f.length>0&&l.info(f.join("  "))},e.dependencies=function(r,n){var v=e.dependencyParse(r),o=v.name;if(n=n||{},!(o in n)){r=e.resolve(r)||r,n[o]=l.map(r.uses||[],function(i){e.isPlugin(i)&&e.register(i);var t=e.dependencyParse(i),a=e.resolve(i);return a&&!e.versionSatisfies(a.version,t.range)?(l.warn("Plugin.dependencies:",e.toString(a),"does not satisfy",e.toString(t),"used by",e.toString(v)+"."),a._warned=!0,r._warned=!0):a||(l.warn("Plugin.dependencies:",e.toString(i),"used by",e.toString(v),"could not be resolved."),r._warned=!0),t.name});for(var f=0;f<n[o].length;f+=1)e.dependencies(n[o][f],n);return n}},e.dependencyParse=function(r){if(l.isString(r)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return n.test(r)||l.warn("Plugin.dependencyParse:",r,"is not a valid dependency string."),{name:r.split("@")[0],range:r.split("@")[1]||"*"}}return{name:r.name,range:r.range||r.version}},e.versionParse=function(r){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;n.test(r)||l.warn("Plugin.versionParse:",r,"is not a valid version or range.");var v=n.exec(r),o=Number(v[4]),f=Number(v[5]),i=Number(v[6]);return{isRange:Boolean(v[1]||v[2]),version:v[3],range:r,operator:v[1]||v[2]||"",major:o,minor:f,patch:i,parts:[o,f,i],prerelease:v[7],number:o*1e8+f*1e4+i}},e.versionSatisfies=function(r,n){n=n||"*";var v=e.versionParse(n),o=e.versionParse(r);if(v.isRange){if(v.operator==="*"||r==="*")return!0;if(v.operator===">")return o.number>v.number;if(v.operator===">=")return o.number>=v.number;if(v.operator==="~")return o.major===v.major&&o.minor===v.minor&&o.patch>=v.patch;if(v.operator==="^")return v.major>0?o.major===v.major&&o.number>=v.number:v.minor>0?o.minor===v.minor&&o.patch>=v.patch:o.patch===v.patch}return r===n||r==="*"}})()},function(p,A,u){var e={};p.exports=e;var l=u(0),r=u(5),n=u(1),v=u(4),o=u(2),f=u(13);(function(){var i,t;typeof window!="undefined"&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(g){window.setTimeout(function(){g(l.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(g){var m={controller:e,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!g.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},x=l.extend(m,g);return x.canvas&&(x.canvas.width=x.options.width||x.canvas.width,x.canvas.height=x.options.height||x.canvas.height),x.mouse=g.mouse,x.engine=g.engine,x.canvas=x.canvas||h(x.options.width,x.options.height),x.context=x.canvas.getContext("2d"),x.textures={},x.bounds=x.bounds||{min:{x:0,y:0},max:{x:x.canvas.width,y:x.canvas.height}},x.options.showBroadphase=!1,x.options.pixelRatio!==1&&e.setPixelRatio(x,x.options.pixelRatio),l.isElement(x.element)?x.element.appendChild(x.canvas):x.canvas.parentNode||l.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),x},e.run=function(g){(function m(x){g.frameRequestId=i(m),a(g,x),e.world(g,x),(g.options.showStats||g.options.showDebug)&&e.stats(g,g.context,x),(g.options.showPerformance||g.options.showDebug)&&e.performance(g,g.context,x)})()},e.stop=function(g){t(g.frameRequestId)},e.setPixelRatio=function(g,m){var x=g.options,c=g.canvas;m==="auto"&&(m=d(c)),x.pixelRatio=m,c.setAttribute("data-pixel-ratio",m),c.width=x.width*m,c.height=x.height*m,c.style.width=x.width+"px",c.style.height=x.height+"px"},e.lookAt=function(g,m,x,c){c=typeof c!="undefined"?c:!0,m=l.isArray(m)?m:[m],x=x||{x:0,y:0};for(var C={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},S=0;S<m.length;S+=1){var I=m[S],w=I.bounds?I.bounds.min:I.min||I.position||I,E=I.bounds?I.bounds.max:I.max||I.position||I;w&&E&&(w.x<C.min.x&&(C.min.x=w.x),E.x>C.max.x&&(C.max.x=E.x),w.y<C.min.y&&(C.min.y=w.y),E.y>C.max.y&&(C.max.y=E.y))}var B=C.max.x-C.min.x+2*x.x,R=C.max.y-C.min.y+2*x.y,L=g.canvas.height,k=g.canvas.width,D=k/L,O=B/R,V=1,N=1;O>D?N=O/D:V=D/O,g.options.hasBounds=!0,g.bounds.min.x=C.min.x,g.bounds.max.x=C.min.x+B*V,g.bounds.min.y=C.min.y,g.bounds.max.y=C.min.y+R*N,c&&(g.bounds.min.x+=B*.5-B*V*.5,g.bounds.max.x+=B*.5-B*V*.5,g.bounds.min.y+=R*.5-R*N*.5,g.bounds.max.y+=R*.5-R*N*.5),g.bounds.min.x-=x.x,g.bounds.max.x-=x.x,g.bounds.min.y-=x.y,g.bounds.max.y-=x.y,g.mouse&&(f.setScale(g.mouse,{x:(g.bounds.max.x-g.bounds.min.x)/g.canvas.width,y:(g.bounds.max.y-g.bounds.min.y)/g.canvas.height}),f.setOffset(g.mouse,g.bounds.min))},e.startViewTransform=function(g){var m=g.bounds.max.x-g.bounds.min.x,x=g.bounds.max.y-g.bounds.min.y,c=m/g.options.width,C=x/g.options.height;g.context.setTransform(g.options.pixelRatio/c,0,0,g.options.pixelRatio/C,0,0),g.context.translate(-g.bounds.min.x,-g.bounds.min.y)},e.endViewTransform=function(g){g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0)},e.world=function(g,m){var x=l.now(),c=g.engine,C=c.world,S=g.canvas,I=g.context,w=g.options,E=g.timing,B=r.allBodies(C),R=r.allConstraints(C),L=w.wireframes?w.wireframeBackground:w.background,k=[],D=[],O,V={timestamp:c.timing.timestamp};if(v.trigger(g,"beforeRender",V),g.currentBackground!==L&&M(g,L),I.globalCompositeOperation="source-in",I.fillStyle="transparent",I.fillRect(0,0,S.width,S.height),I.globalCompositeOperation="source-over",w.hasBounds){for(O=0;O<B.length;O++){var N=B[O];n.overlaps(N.bounds,g.bounds)&&k.push(N)}for(O=0;O<R.length;O++){var G=R[O],Q=G.bodyA,H=G.bodyB,_=G.pointA,K=G.pointB;Q&&(_=o.add(Q.position,G.pointA)),H&&(K=o.add(H.position,G.pointB)),!(!_||!K)&&(n.contains(g.bounds,_)||n.contains(g.bounds,K))&&D.push(G)}e.startViewTransform(g),g.mouse&&(f.setScale(g.mouse,{x:(g.bounds.max.x-g.bounds.min.x)/g.options.width,y:(g.bounds.max.y-g.bounds.min.y)/g.options.height}),f.setOffset(g.mouse,g.bounds.min))}else D=R,k=B,g.options.pixelRatio!==1&&g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0);!w.wireframes||c.enableSleeping&&w.showSleeping?e.bodies(g,k,I):(w.showConvexHulls&&e.bodyConvexHulls(g,k,I),e.bodyWireframes(g,k,I)),w.showBounds&&e.bodyBounds(g,k,I),(w.showAxes||w.showAngleIndicator)&&e.bodyAxes(g,k,I),w.showPositions&&e.bodyPositions(g,k,I),w.showVelocity&&e.bodyVelocity(g,k,I),w.showIds&&e.bodyIds(g,k,I),w.showSeparations&&e.separations(g,c.pairs.list,I),w.showCollisions&&e.collisions(g,c.pairs.list,I),w.showVertexNumbers&&e.vertexNumbers(g,k,I),w.showMousePosition&&e.mousePosition(g,g.mouse,I),e.constraints(D,I),w.hasBounds&&e.endViewTransform(g),v.trigger(g,"afterRender",V),E.lastElapsed=l.now()-x},e.stats=function(g,m,x){for(var c=g.engine,C=c.world,S=r.allBodies(C),I=0,w=55,E=44,B=0,R=0,L=0;L<S.length;L+=1)I+=S[L].parts.length;var k={Part:I,Body:S.length,Cons:r.allConstraints(C).length,Comp:r.allComposites(C).length,Pair:c.pairs.list.length};m.fillStyle="#0e0f19",m.fillRect(B,R,w*5.5,E),m.font="12px Arial",m.textBaseline="top",m.textAlign="right";for(var D in k){var O=k[D];m.fillStyle="#aaa",m.fillText(D,B+w,R+8),m.fillStyle="#eee",m.fillText(O,B+w,R+26),B+=w}},e.performance=function(g,m){var x=g.engine,c=g.timing,C=c.deltaHistory,S=c.elapsedHistory,I=c.timestampElapsedHistory,w=c.engineDeltaHistory,E=c.engineElapsedHistory,B=x.timing.lastDelta,R=s(C),L=s(S),k=s(w),D=s(E),O=s(I),V=O/R||0,N=1e3/R||0,G=4,Q=12,H=60,_=34,K=10,J=69;m.fillStyle="#0e0f19",m.fillRect(0,50,Q*4+H*5+22,_),e.status(m,K,J,H,G,C.length,Math.round(N)+" fps",N/e._goodFps,function(X){return C[X]/R-1}),e.status(m,K+Q+H,J,H,G,w.length,B.toFixed(2)+" dt",e._goodDelta/B,function(X){return w[X]/k-1}),e.status(m,K+(Q+H)*2,J,H,G,E.length,D.toFixed(2)+" ut",1-D/e._goodFps,function(X){return E[X]/D-1}),e.status(m,K+(Q+H)*3,J,H,G,S.length,L.toFixed(2)+" rt",1-L/e._goodFps,function(X){return S[X]/L-1}),e.status(m,K+(Q+H)*4,J,H,G,I.length,V.toFixed(2)+" x",V*V*V,function(X){return(I[X]/C[X]/V||0)-1})},e.status=function(g,m,x,c,C,S,I,w,E){g.strokeStyle="#888",g.fillStyle="#444",g.lineWidth=1,g.fillRect(m,x+7,c,1),g.beginPath(),g.moveTo(m,x+7-C*l.clamp(.4*E(0),-2,2));for(var B=0;B<c;B+=1)g.lineTo(m+B,x+7-(B<S?C*l.clamp(.4*E(B),-2,2):0));g.stroke(),g.fillStyle="hsl("+l.clamp(25+95*w,0,120)+",100%,60%)",g.fillRect(m,x-7,4,4),g.font="12px Arial",g.textBaseline="middle",g.textAlign="right",g.fillStyle="#eee",g.fillText(I,m+c,x-5)},e.constraints=function(g,m){for(var x=m,c=0;c<g.length;c++){var C=g[c];if(!(!C.render.visible||!C.pointA||!C.pointB)){var S=C.bodyA,I=C.bodyB,w,E;if(S?w=o.add(S.position,C.pointA):w=C.pointA,C.render.type==="pin")x.beginPath(),x.arc(w.x,w.y,3,0,2*Math.PI),x.closePath();else{if(I?E=o.add(I.position,C.pointB):E=C.pointB,x.beginPath(),x.moveTo(w.x,w.y),C.render.type==="spring")for(var B=o.sub(E,w),R=o.perp(o.normalise(B)),L=Math.ceil(l.clamp(C.length/5,12,20)),k,D=1;D<L;D+=1)k=D%2===0?1:-1,x.lineTo(w.x+B.x*(D/L)+R.x*k*4,w.y+B.y*(D/L)+R.y*k*4);x.lineTo(E.x,E.y)}C.render.lineWidth&&(x.lineWidth=C.render.lineWidth,x.strokeStyle=C.render.strokeStyle,x.stroke()),C.render.anchors&&(x.fillStyle=C.render.strokeStyle,x.beginPath(),x.arc(w.x,w.y,3,0,2*Math.PI),x.arc(E.x,E.y,3,0,2*Math.PI),x.closePath(),x.fill())}}},e.bodies=function(g,m,x){var c=x;g.engine;var C=g.options,S=C.showInternalEdges||!C.wireframes,I,w,E,B;for(E=0;E<m.length;E++)if(I=m[E],!!I.render.visible){for(B=I.parts.length>1?1:0;B<I.parts.length;B++)if(w=I.parts[B],!!w.render.visible){if(C.showSleeping&&I.isSleeping?c.globalAlpha=.5*w.render.opacity:w.render.opacity!==1&&(c.globalAlpha=w.render.opacity),w.render.sprite&&w.render.sprite.texture&&!C.wireframes){var R=w.render.sprite,L=T(g,R.texture);c.translate(w.position.x,w.position.y),c.rotate(w.angle),c.drawImage(L,L.width*-R.xOffset*R.xScale,L.height*-R.yOffset*R.yScale,L.width*R.xScale,L.height*R.yScale),c.rotate(-w.angle),c.translate(-w.position.x,-w.position.y)}else{if(w.circleRadius)c.beginPath(),c.arc(w.position.x,w.position.y,w.circleRadius,0,2*Math.PI);else{c.beginPath(),c.moveTo(w.vertices[0].x,w.vertices[0].y);for(var k=1;k<w.vertices.length;k++)!w.vertices[k-1].isInternal||S?c.lineTo(w.vertices[k].x,w.vertices[k].y):c.moveTo(w.vertices[k].x,w.vertices[k].y),w.vertices[k].isInternal&&!S&&c.moveTo(w.vertices[(k+1)%w.vertices.length].x,w.vertices[(k+1)%w.vertices.length].y);c.lineTo(w.vertices[0].x,w.vertices[0].y),c.closePath()}C.wireframes?(c.lineWidth=1,c.strokeStyle="#bbb",c.stroke()):(c.fillStyle=w.render.fillStyle,w.render.lineWidth&&(c.lineWidth=w.render.lineWidth,c.strokeStyle=w.render.strokeStyle,c.stroke()),c.fill())}c.globalAlpha=1}}},e.bodyWireframes=function(g,m,x){var c=x,C=g.options.showInternalEdges,S,I,w,E,B;for(c.beginPath(),w=0;w<m.length;w++)if(S=m[w],!!S.render.visible)for(B=S.parts.length>1?1:0;B<S.parts.length;B++){for(I=S.parts[B],c.moveTo(I.vertices[0].x,I.vertices[0].y),E=1;E<I.vertices.length;E++)!I.vertices[E-1].isInternal||C?c.lineTo(I.vertices[E].x,I.vertices[E].y):c.moveTo(I.vertices[E].x,I.vertices[E].y),I.vertices[E].isInternal&&!C&&c.moveTo(I.vertices[(E+1)%I.vertices.length].x,I.vertices[(E+1)%I.vertices.length].y);c.lineTo(I.vertices[0].x,I.vertices[0].y)}c.lineWidth=1,c.strokeStyle="#bbb",c.stroke()},e.bodyConvexHulls=function(g,m,x){var c=x,C,S,I;for(c.beginPath(),S=0;S<m.length;S++)if(C=m[S],!(!C.render.visible||C.parts.length===1)){for(c.moveTo(C.vertices[0].x,C.vertices[0].y),I=1;I<C.vertices.length;I++)c.lineTo(C.vertices[I].x,C.vertices[I].y);c.lineTo(C.vertices[0].x,C.vertices[0].y)}c.lineWidth=1,c.strokeStyle="rgba(255,255,255,0.2)",c.stroke()},e.vertexNumbers=function(g,m,x){var c=x,C,S,I;for(C=0;C<m.length;C++){var w=m[C].parts;for(I=w.length>1?1:0;I<w.length;I++){var E=w[I];for(S=0;S<E.vertices.length;S++)c.fillStyle="rgba(255,255,255,0.2)",c.fillText(C+"_"+S,E.position.x+(E.vertices[S].x-E.position.x)*.8,E.position.y+(E.vertices[S].y-E.position.y)*.8)}}},e.mousePosition=function(g,m,x){var c=x;c.fillStyle="rgba(255,255,255,0.8)",c.fillText(m.position.x+"  "+m.position.y,m.position.x+5,m.position.y-5)},e.bodyBounds=function(g,m,x){var c=x;g.engine;var C=g.options;c.beginPath();for(var S=0;S<m.length;S++){var I=m[S];if(I.render.visible)for(var w=m[S].parts,E=w.length>1?1:0;E<w.length;E++){var B=w[E];c.rect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}C.wireframes?c.strokeStyle="rgba(255,255,255,0.08)":c.strokeStyle="rgba(0,0,0,0.1)",c.lineWidth=1,c.stroke()},e.bodyAxes=function(g,m,x){var c=x;g.engine;var C=g.options,S,I,w,E;for(c.beginPath(),I=0;I<m.length;I++){var B=m[I],R=B.parts;if(!!B.render.visible)if(C.showAxes)for(w=R.length>1?1:0;w<R.length;w++)for(S=R[w],E=0;E<S.axes.length;E++){var L=S.axes[E];c.moveTo(S.position.x,S.position.y),c.lineTo(S.position.x+L.x*20,S.position.y+L.y*20)}else for(w=R.length>1?1:0;w<R.length;w++)for(S=R[w],E=0;E<S.axes.length;E++)c.moveTo(S.position.x,S.position.y),c.lineTo((S.vertices[0].x+S.vertices[S.vertices.length-1].x)/2,(S.vertices[0].y+S.vertices[S.vertices.length-1].y)/2)}C.wireframes?(c.strokeStyle="indianred",c.lineWidth=1):(c.strokeStyle="rgba(255, 255, 255, 0.4)",c.globalCompositeOperation="overlay",c.lineWidth=2),c.stroke(),c.globalCompositeOperation="source-over"},e.bodyPositions=function(g,m,x){var c=x;g.engine;var C=g.options,S,I,w,E;for(c.beginPath(),w=0;w<m.length;w++)if(S=m[w],!!S.render.visible)for(E=0;E<S.parts.length;E++)I=S.parts[E],c.arc(I.position.x,I.position.y,3,0,2*Math.PI,!1),c.closePath();for(C.wireframes?c.fillStyle="indianred":c.fillStyle="rgba(0,0,0,0.5)",c.fill(),c.beginPath(),w=0;w<m.length;w++)S=m[w],S.render.visible&&(c.arc(S.positionPrev.x,S.positionPrev.y,2,0,2*Math.PI,!1),c.closePath());c.fillStyle="rgba(255,165,0,0.8)",c.fill()},e.bodyVelocity=function(g,m,x){var c=x;c.beginPath();for(var C=0;C<m.length;C++){var S=m[C];!S.render.visible||(c.moveTo(S.position.x,S.position.y),c.lineTo(S.position.x+(S.position.x-S.positionPrev.x)*2,S.position.y+(S.position.y-S.positionPrev.y)*2))}c.lineWidth=3,c.strokeStyle="cornflowerblue",c.stroke()},e.bodyIds=function(g,m,x){var c=x,C,S;for(C=0;C<m.length;C++)if(!!m[C].render.visible){var I=m[C].parts;for(S=I.length>1?1:0;S<I.length;S++){var w=I[S];c.font="12px Arial",c.fillStyle="rgba(255,255,255,0.5)",c.fillText(w.id,w.position.x+10,w.position.y-10)}}},e.collisions=function(g,m,x){var c=x,C=g.options,S,I,w,E;for(c.beginPath(),w=0;w<m.length;w++)if(S=m[w],!!S.isActive)for(I=S.collision,E=0;E<S.activeContacts.length;E++){var B=S.activeContacts[E],R=B.vertex;c.rect(R.x-1.5,R.y-1.5,3.5,3.5)}for(C.wireframes?c.fillStyle="rgba(255,255,255,0.7)":c.fillStyle="orange",c.fill(),c.beginPath(),w=0;w<m.length;w++)if(S=m[w],!!S.isActive&&(I=S.collision,S.activeContacts.length>0)){var L=S.activeContacts[0].vertex.x,k=S.activeContacts[0].vertex.y;S.activeContacts.length===2&&(L=(S.activeContacts[0].vertex.x+S.activeContacts[1].vertex.x)/2,k=(S.activeContacts[0].vertex.y+S.activeContacts[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic===!0?c.moveTo(L-I.normal.x*8,k-I.normal.y*8):c.moveTo(L+I.normal.x*8,k+I.normal.y*8),c.lineTo(L,k)}C.wireframes?c.strokeStyle="rgba(255,165,0,0.7)":c.strokeStyle="orange",c.lineWidth=1,c.stroke()},e.separations=function(g,m,x){var c=x,C=g.options,S,I,w,E,B;for(c.beginPath(),B=0;B<m.length;B++)if(S=m[B],!!S.isActive){I=S.collision,w=I.bodyA,E=I.bodyB;var R=1;!E.isStatic&&!w.isStatic&&(R=.5),E.isStatic&&(R=0),c.moveTo(E.position.x,E.position.y),c.lineTo(E.position.x-I.penetration.x*R,E.position.y-I.penetration.y*R),R=1,!E.isStatic&&!w.isStatic&&(R=.5),w.isStatic&&(R=0),c.moveTo(w.position.x,w.position.y),c.lineTo(w.position.x+I.penetration.x*R,w.position.y+I.penetration.y*R)}C.wireframes?c.strokeStyle="rgba(255,165,0,0.5)":c.strokeStyle="orange",c.stroke()},e.inspector=function(g,m){g.engine;var x=g.selected,c=g.render,C=c.options,S;if(C.hasBounds){var I=c.bounds.max.x-c.bounds.min.x,w=c.bounds.max.y-c.bounds.min.y,E=I/c.options.width,B=w/c.options.height;m.scale(1/E,1/B),m.translate(-c.bounds.min.x,-c.bounds.min.y)}for(var R=0;R<x.length;R++){var L=x[R].data;switch(m.translate(.5,.5),m.lineWidth=1,m.strokeStyle="rgba(255,165,0,0.9)",m.setLineDash([1,2]),L.type){case"body":S=L.bounds,m.beginPath(),m.rect(Math.floor(S.min.x-3),Math.floor(S.min.y-3),Math.floor(S.max.x-S.min.x+6),Math.floor(S.max.y-S.min.y+6)),m.closePath(),m.stroke();break;case"constraint":var k=L.pointA;L.bodyA&&(k=L.pointB),m.beginPath(),m.arc(k.x,k.y,10,0,2*Math.PI),m.closePath(),m.stroke();break}m.setLineDash([]),m.translate(-.5,-.5)}g.selectStart!==null&&(m.translate(.5,.5),m.lineWidth=1,m.strokeStyle="rgba(255,165,0,0.6)",m.fillStyle="rgba(255,165,0,0.1)",S=g.selectBounds,m.beginPath(),m.rect(Math.floor(S.min.x),Math.floor(S.min.y),Math.floor(S.max.x-S.min.x),Math.floor(S.max.y-S.min.y)),m.closePath(),m.stroke(),m.fill(),m.translate(-.5,-.5)),C.hasBounds&&m.setTransform(1,0,0,1,0,0)};var a=function(g,m){var x=g.engine,c=g.timing,C=c.historySize,S=x.timing.timestamp;c.delta=m-c.lastTime||e._goodDelta,c.lastTime=m,c.timestampElapsed=S-c.lastTimestamp||0,c.lastTimestamp=S,c.deltaHistory.unshift(c.delta),c.deltaHistory.length=Math.min(c.deltaHistory.length,C),c.engineDeltaHistory.unshift(x.timing.lastDelta),c.engineDeltaHistory.length=Math.min(c.engineDeltaHistory.length,C),c.timestampElapsedHistory.unshift(c.timestampElapsed),c.timestampElapsedHistory.length=Math.min(c.timestampElapsedHistory.length,C),c.engineElapsedHistory.unshift(x.timing.lastElapsed),c.engineElapsedHistory.length=Math.min(c.engineElapsedHistory.length,C),c.elapsedHistory.unshift(c.lastElapsed),c.elapsedHistory.length=Math.min(c.elapsedHistory.length,C)},s=function(g){for(var m=0,x=0;x<g.length;x+=1)m+=g[x];return m/g.length||0},h=function(g,m){var x=document.createElement("canvas");return x.width=g,x.height=m,x.oncontextmenu=function(){return!1},x.onselectstart=function(){return!1},x},d=function(g){var m=g.getContext("2d"),x=window.devicePixelRatio||1,c=m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1;return x/c},T=function(g,m){var x=g.textures[m];return x||(x=g.textures[m]=new Image,x.src=m,x)},M=function(g,m){var x=m;/(jpg|gif|png)$/.test(m)&&(x="url("+m+")"),g.canvas.style.background=x,g.canvas.style.backgroundSize="contain",g.currentBackground=m}})()},function(p,A){var u={};p.exports=u,function(){u.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(p,A,u){var e={};p.exports=e;var l=u(7),r=u(19),n=u(14),v=u(20),o=u(4),f=u(5),i=u(10),t=u(0),a=u(6);(function(){e.create=function(s){s=s||{};var h={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=t.extend(h,s);return d.world=s.world||f.create({label:"World"}),d.pairs=s.pairs||v.create(),d.detector=s.detector||n.create(),d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},e.update=function(s,h,d){var T=t.now();h=h||1e3/60,d=d||1;var M=s.world,g=s.detector,m=s.pairs,x=s.timing,c=x.timestamp,C;x.timestamp+=h*x.timeScale,x.lastDelta=h*x.timeScale;var S={timestamp:x.timestamp};o.trigger(s,"beforeUpdate",S);var I=f.allBodies(M),w=f.allConstraints(M);for(M.isModified&&n.setBodies(g,I),M.isModified&&f.setModified(M,!1,!1,!0),s.enableSleeping&&l.update(I,x.timeScale),e._bodiesApplyGravity(I,s.gravity),e._bodiesUpdate(I,h,x.timeScale,d,M.bounds),i.preSolveAll(I),C=0;C<s.constraintIterations;C++)i.solveAll(w,x.timeScale);i.postSolveAll(I),g.pairs=s.pairs;var E=n.collisions(g);for(v.update(m,E,c),s.enableSleeping&&l.afterCollisions(m.list,x.timeScale),m.collisionStart.length>0&&o.trigger(s,"collisionStart",{pairs:m.collisionStart}),r.preSolvePosition(m.list),C=0;C<s.positionIterations;C++)r.solvePosition(m.list,x.timeScale);for(r.postSolvePosition(I),i.preSolveAll(I),C=0;C<s.constraintIterations;C++)i.solveAll(w,x.timeScale);for(i.postSolveAll(I),r.preSolveVelocity(m.list),C=0;C<s.velocityIterations;C++)r.solveVelocity(m.list,x.timeScale);return m.collisionActive.length>0&&o.trigger(s,"collisionActive",{pairs:m.collisionActive}),m.collisionEnd.length>0&&o.trigger(s,"collisionEnd",{pairs:m.collisionEnd}),e._bodiesClearForces(I),o.trigger(s,"afterUpdate",S),s.timing.lastElapsed=t.now()-T,s},e.merge=function(s,h){if(t.extend(s,h),h.world){s.world=h.world,e.clear(s);for(var d=f.allBodies(s.world),T=0;T<d.length;T++){var M=d[T];l.set(M,!1),M.id=t.nextId()}}},e.clear=function(s){v.clear(s.pairs),n.clear(s.detector)},e._bodiesClearForces=function(s){for(var h=0;h<s.length;h++){var d=s[h];d.force.x=0,d.force.y=0,d.torque=0}},e._bodiesApplyGravity=function(s,h){var d=typeof h.scale!="undefined"?h.scale:.001;if(!(h.x===0&&h.y===0||d===0))for(var T=0;T<s.length;T++){var M=s[T];M.isStatic||M.isSleeping||(M.force.y+=M.mass*h.y*d,M.force.x+=M.mass*h.x*d)}},e._bodiesUpdate=function(s,h,d,T,M){for(var g=0;g<s.length;g++){var m=s[g];m.isStatic||m.isSleeping||a.update(m,h,d,T)}}})()},function(p,A,u){var e={};p.exports=e;var l=u(3),r=u(1);(function(){e._restingThresh=4,e._restingThreshTangent=6,e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e.preSolvePosition=function(n){var v,o,f,i=n.length;for(v=0;v<i;v++)o=n[v],o.isActive&&(f=o.activeContacts.length,o.collision.parentA.totalContacts+=f,o.collision.parentB.totalContacts+=f)},e.solvePosition=function(n,v){var o,f,i,t,a,s,h,d,T=e._positionDampen,M=n.length;for(o=0;o<M;o++)f=n[o],!(!f.isActive||f.isSensor)&&(i=f.collision,t=i.parentA,a=i.parentB,s=i.normal,f.separation=s.x*(a.positionImpulse.x+i.penetration.x-t.positionImpulse.x)+s.y*(a.positionImpulse.y+i.penetration.y-t.positionImpulse.y));for(o=0;o<M;o++)f=n[o],!(!f.isActive||f.isSensor)&&(i=f.collision,t=i.parentA,a=i.parentB,s=i.normal,d=(f.separation-f.slop)*v,(t.isStatic||a.isStatic)&&(d*=2),t.isStatic||t.isSleeping||(h=T/t.totalContacts,t.positionImpulse.x+=s.x*d*h,t.positionImpulse.y+=s.y*d*h),a.isStatic||a.isSleeping||(h=T/a.totalContacts,a.positionImpulse.x-=s.x*d*h,a.positionImpulse.y-=s.y*d*h))},e.postSolvePosition=function(n){for(var v=e._positionWarming,o=n.length,f=l.translate,i=r.update,t=0;t<o;t++){var a=n[t],s=a.positionImpulse,h=s.x,d=s.y,T=a.velocity;if(a.totalContacts=0,h!==0||d!==0){for(var M=0;M<a.parts.length;M++){var g=a.parts[M];f(g.vertices,s),i(g.bounds,g.vertices,T),g.position.x+=h,g.position.y+=d}a.positionPrev.x+=h,a.positionPrev.y+=d,h*T.x+d*T.y<0?(s.x=0,s.y=0):(s.x*=v,s.y*=v)}}},e.preSolveVelocity=function(n){var v=n.length,o,f;for(o=0;o<v;o++){var i=n[o];if(!(!i.isActive||i.isSensor)){var t=i.activeContacts,a=t.length,s=i.collision,h=s.parentA,d=s.parentB,T=s.normal,M=s.tangent;for(f=0;f<a;f++){var g=t[f],m=g.vertex,x=g.normalImpulse,c=g.tangentImpulse;if(x!==0||c!==0){var C=T.x*x+M.x*c,S=T.y*x+M.y*c;h.isStatic||h.isSleeping||(h.positionPrev.x+=C*h.inverseMass,h.positionPrev.y+=S*h.inverseMass,h.anglePrev+=h.inverseInertia*((m.x-h.position.x)*S-(m.y-h.position.y)*C)),d.isStatic||d.isSleeping||(d.positionPrev.x-=C*d.inverseMass,d.positionPrev.y-=S*d.inverseMass,d.anglePrev-=d.inverseInertia*((m.x-d.position.x)*S-(m.y-d.position.y)*C))}}}}},e.solveVelocity=function(n,v){var o=v*v,f=e._restingThresh*o,i=e._frictionNormalMultiplier,t=e._restingThreshTangent*o,a=Number.MAX_VALUE,s=n.length,h,d,T,M;for(T=0;T<s;T++){var g=n[T];if(!(!g.isActive||g.isSensor)){var m=g.collision,x=m.parentA,c=m.parentB,C=x.velocity,S=c.velocity,I=m.normal.x,w=m.normal.y,E=m.tangent.x,B=m.tangent.y,R=g.activeContacts,L=R.length,k=1/L,D=x.inverseMass+c.inverseMass,O=g.friction*g.frictionStatic*i*o;for(C.x=x.position.x-x.positionPrev.x,C.y=x.position.y-x.positionPrev.y,S.x=c.position.x-c.positionPrev.x,S.y=c.position.y-c.positionPrev.y,x.angularVelocity=x.angle-x.anglePrev,c.angularVelocity=c.angle-c.anglePrev,M=0;M<L;M++){var V=R[M],N=V.vertex,G=N.x-x.position.x,Q=N.y-x.position.y,H=N.x-c.position.x,_=N.y-c.position.y,K=C.x-Q*x.angularVelocity,J=C.y+G*x.angularVelocity,X=S.x-_*c.angularVelocity,gt=S.y+H*c.angularVelocity,Xe=K-X,Ye=J-gt,he=I*Xe+w*Ye,te=E*Xe+B*Ye,qe=g.separation+he,Oe=Math.min(qe,1);Oe=qe<0?0:Oe;var je=Oe*O;te>je||-te>je?(d=te>0?te:-te,h=g.friction*(te>0?1:-1)*o,h<-d?h=-d:h>d&&(h=d)):(h=te,d=a);var _e=G*w-Q*I,et=H*w-_*I,tt=k/(D+x.inverseInertia*_e*_e+c.inverseInertia*et*et),Ae=(1+g.restitution)*he*tt;if(h*=tt,he*he>f&&he<0)V.normalImpulse=0;else{var mt=V.normalImpulse;V.normalImpulse+=Ae,V.normalImpulse=Math.min(V.normalImpulse,0),Ae=V.normalImpulse-mt}if(te*te>t)V.tangentImpulse=0;else{var dt=V.tangentImpulse;V.tangentImpulse+=h,V.tangentImpulse<-d&&(V.tangentImpulse=-d),V.tangentImpulse>d&&(V.tangentImpulse=d),h=V.tangentImpulse-dt}var Ie=I*Ae+E*h,Te=w*Ae+B*h;x.isStatic||x.isSleeping||(x.positionPrev.x+=Ie*x.inverseMass,x.positionPrev.y+=Te*x.inverseMass,x.anglePrev+=(G*Te-Q*Ie)*x.inverseInertia),c.isStatic||c.isSleeping||(c.positionPrev.x-=Ie*c.inverseMass,c.positionPrev.y-=Te*c.inverseMass,c.anglePrev-=(H*Te-_*Ie)*c.inverseInertia)}}}}})()},function(p,A,u){var e={};p.exports=e;var l=u(9),r=u(0);(function(){e.create=function(n){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},e.update=function(n,v,o){var f=n.list,i=f.length,t=n.table,a=v.length,s=n.collisionStart,h=n.collisionEnd,d=n.collisionActive,T,M,g,m;for(s.length=0,h.length=0,d.length=0,m=0;m<i;m++)f[m].confirmedActive=!1;for(m=0;m<a;m++)T=v[m],g=T.pair,g?(g.isActive?d.push(g):s.push(g),l.update(g,T,o),g.confirmedActive=!0):(g=l.create(T,o),t[g.id]=g,s.push(g),f.push(g));var x=[];for(i=f.length,m=0;m<i;m++)g=f[m],g.confirmedActive||(l.setActive(g,!1,o),h.push(g),!g.collision.bodyA.isSleeping&&!g.collision.bodyB.isSleeping&&x.push(m));for(m=0;m<x.length;m++)M=x[m]-m,g=f[M],f.splice(M,1),delete t[g.id]},e.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()},function(p,A,u){var e=p.exports=u(22);e.Axes=u(11),e.Bodies=u(12),e.Body=u(6),e.Bounds=u(1),e.Collision=u(8),e.Common=u(0),e.Composite=u(5),e.Composites=u(23),e.Constraint=u(10),e.Contact=u(17),e.Detector=u(14),e.Engine=u(18),e.Events=u(4),e.Grid=u(24),e.Mouse=u(13),e.MouseConstraint=u(25),e.Pair=u(9),e.Pairs=u(20),e.Plugin=u(15),e.Query=u(26),e.Render=u(16),e.Resolver=u(19),e.Runner=u(27),e.SAT=u(28),e.Sleeping=u(7),e.Svg=u(29),e.Vector=u(2),e.Vertices=u(3),e.World=u(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run \u27A4 use Matter.Runner.run(engine) instead")},function(p,A,u){var e={};p.exports=e;var l=u(15),r=u(0);(function(){e.name="matter-js",e.version="0.18.0",e.uses=[],e.used=[],e.use=function(){l.use(e,Array.prototype.slice.call(arguments))},e.before=function(n,v){return n=n.replace(/^Matter./,""),r.chainPathBefore(e,n,v)},e.after=function(n,v){return n=n.replace(/^Matter./,""),r.chainPathAfter(e,n,v)}})()},function(p,A,u){var e={};p.exports=e;var l=u(5),r=u(10),n=u(0),v=u(6),o=u(12),f=n.deprecated;(function(){e.stack=function(i,t,a,s,h,d,T){for(var M=l.create({label:"Stack"}),g=i,m=t,x,c=0,C=0;C<s;C++){for(var S=0,I=0;I<a;I++){var w=T(g,m,I,C,x,c);if(w){var E=w.bounds.max.y-w.bounds.min.y,B=w.bounds.max.x-w.bounds.min.x;E>S&&(S=E),v.translate(w,{x:B*.5,y:E*.5}),g=w.bounds.max.x+h,l.addBody(M,w),x=w,c+=1}else g+=h}m+=S+d,g=i}return M},e.chain=function(i,t,a,s,h,d){for(var T=i.bodies,M=1;M<T.length;M++){var g=T[M-1],m=T[M],x=g.bounds.max.y-g.bounds.min.y,c=g.bounds.max.x-g.bounds.min.x,C=m.bounds.max.y-m.bounds.min.y,S=m.bounds.max.x-m.bounds.min.x,I={bodyA:g,pointA:{x:c*t,y:x*a},bodyB:m,pointB:{x:S*s,y:C*h}},w=n.extend(I,d);l.addConstraint(i,r.create(w))}return i.label+=" Chain",i},e.mesh=function(i,t,a,s,h){var d=i.bodies,T,M,g,m,x;for(T=0;T<a;T++){for(M=1;M<t;M++)g=d[M-1+T*t],m=d[M+T*t],l.addConstraint(i,r.create(n.extend({bodyA:g,bodyB:m},h)));if(T>0)for(M=0;M<t;M++)g=d[M+(T-1)*t],m=d[M+T*t],l.addConstraint(i,r.create(n.extend({bodyA:g,bodyB:m},h))),s&&M>0&&(x=d[M-1+(T-1)*t],l.addConstraint(i,r.create(n.extend({bodyA:x,bodyB:m},h)))),s&&M<t-1&&(x=d[M+1+(T-1)*t],l.addConstraint(i,r.create(n.extend({bodyA:x,bodyB:m},h))))}return i.label+=" Mesh",i},e.pyramid=function(i,t,a,s,h,d,T){return e.stack(i,t,a,s,h,d,function(M,g,m,x,c,C){var S=Math.min(s,Math.ceil(a/2)),I=c?c.bounds.max.x-c.bounds.min.x:0;if(!(x>S)){x=S-x;var w=x,E=a-1-x;if(!(m<w||m>E)){C===1&&v.translate(c,{x:(m+(a%2===1?1:-1))*I,y:0});var B=c?m*I:0;return T(i+B+m*h,g,m,x,c,C)}}})},e.newtonsCradle=function(i,t,a,s,h){for(var d=l.create({label:"Newtons Cradle"}),T=0;T<a;T++){var M=1.9,g=o.circle(i+T*(s*M),t+h,s,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=r.create({pointA:{x:i+T*(s*M),y:t},bodyB:g});l.addBody(d,g),l.addConstraint(d,m)}return d},f(e,"newtonsCradle","Composites.newtonsCradle \u27A4 moved to newtonsCradle example"),e.car=function(i,t,a,s,h){var d=v.nextGroup(!0),T=20,M=-a*.5+T,g=a*.5-T,m=0,x=l.create({label:"Car"}),c=o.rectangle(i,t,a,s,{collisionFilter:{group:d},chamfer:{radius:s*.5},density:2e-4}),C=o.circle(i+M,t+m,h,{collisionFilter:{group:d},friction:.8}),S=o.circle(i+g,t+m,h,{collisionFilter:{group:d},friction:.8}),I=r.create({bodyB:c,pointB:{x:M,y:m},bodyA:C,stiffness:1,length:0}),w=r.create({bodyB:c,pointB:{x:g,y:m},bodyA:S,stiffness:1,length:0});return l.addBody(x,c),l.addBody(x,C),l.addBody(x,S),l.addConstraint(x,I),l.addConstraint(x,w),x},f(e,"car","Composites.car \u27A4 moved to car example"),e.softBody=function(i,t,a,s,h,d,T,M,g,m){g=n.extend({inertia:1/0},g),m=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var x=e.stack(i,t,a,s,h,d,function(c,C){return o.circle(c,C,M,g)});return e.mesh(x,a,s,T,m),x.label="Soft Body",x},f(e,"softBody","Composites.softBody \u27A4 moved to softBody and cloth examples")})()},function(p,A,u){var e={};p.exports=e;var l=u(9),r=u(0),n=r.deprecated;(function(){e.create=function(v){var o={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(o,v)},e.update=function(v,o,f,i){var t,a,s,h=f.world,d=v.buckets,T,M,g=!1;for(t=0;t<o.length;t++){var m=o[t];if(!(m.isSleeping&&!i)&&!(h.bounds&&(m.bounds.max.x<h.bounds.min.x||m.bounds.min.x>h.bounds.max.x||m.bounds.max.y<h.bounds.min.y||m.bounds.min.y>h.bounds.max.y))){var x=e._getRegion(v,m);if(!m.region||x.id!==m.region.id||i){(!m.region||i)&&(m.region=x);var c=e._regionUnion(x,m.region);for(a=c.startCol;a<=c.endCol;a++)for(s=c.startRow;s<=c.endRow;s++){M=e._getBucketId(a,s),T=d[M];var C=a>=x.startCol&&a<=x.endCol&&s>=x.startRow&&s<=x.endRow,S=a>=m.region.startCol&&a<=m.region.endCol&&s>=m.region.startRow&&s<=m.region.endRow;!C&&S&&S&&T&&e._bucketRemoveBody(v,T,m),(m.region===x||C&&!S||i)&&(T||(T=e._createBucket(d,M)),e._bucketAddBody(v,T,m))}m.region=x,g=!0}}}g&&(v.pairsList=e._createActivePairsList(v))},n(e,"update","Grid.update \u27A4 replaced by Matter.Detector"),e.clear=function(v){v.buckets={},v.pairs={},v.pairsList=[]},n(e,"clear","Grid.clear \u27A4 replaced by Matter.Detector"),e._regionUnion=function(v,o){var f=Math.min(v.startCol,o.startCol),i=Math.max(v.endCol,o.endCol),t=Math.min(v.startRow,o.startRow),a=Math.max(v.endRow,o.endRow);return e._createRegion(f,i,t,a)},e._getRegion=function(v,o){var f=o.bounds,i=Math.floor(f.min.x/v.bucketWidth),t=Math.floor(f.max.x/v.bucketWidth),a=Math.floor(f.min.y/v.bucketHeight),s=Math.floor(f.max.y/v.bucketHeight);return e._createRegion(i,t,a,s)},e._createRegion=function(v,o,f,i){return{id:v+","+o+","+f+","+i,startCol:v,endCol:o,startRow:f,endRow:i}},e._getBucketId=function(v,o){return"C"+v+"R"+o},e._createBucket=function(v,o){var f=v[o]=[];return f},e._bucketAddBody=function(v,o,f){var i=v.pairs,t=l.id,a=o.length,s;for(s=0;s<a;s++){var h=o[s];if(!(f.id===h.id||f.isStatic&&h.isStatic)){var d=t(f,h),T=i[d];T?T[2]+=1:i[d]=[f,h,1]}}o.push(f)},e._bucketRemoveBody=function(v,o,f){var i=v.pairs,t=l.id,a;o.splice(r.indexOf(o,f),1);var s=o.length;for(a=0;a<s;a++){var h=i[t(f,o[a])];h&&(h[2]-=1)}},e._createActivePairsList=function(v){var o,f=v.pairs,i=r.keys(f),t=i.length,a=[],s;for(s=0;s<t;s++)o=f[i[s]],o[2]>0?a.push(o):delete f[i[s]];return a}})()},function(p,A,u){var e={};p.exports=e;var l=u(3),r=u(7),n=u(13),v=u(4),o=u(14),f=u(10),i=u(5),t=u(0),a=u(1);(function(){e.create=function(s,h){var d=(s?s.mouse:null)||(h?h.mouse:null);d||(s&&s.render&&s.render.canvas?d=n.create(s.render.canvas):h&&h.element?d=n.create(h.element):(d=n.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var T=f.create({label:"Mouse Constraint",pointA:d.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),M={type:"mouseConstraint",mouse:d,element:null,body:null,constraint:T,collisionFilter:{category:1,mask:4294967295,group:0}},g=t.extend(M,h);return v.on(s,"beforeUpdate",function(){var m=i.allBodies(s.world);e.update(g,m),e._triggerEvents(g)}),g},e.update=function(s,h){var d=s.mouse,T=s.constraint,M=s.body;if(d.button===0){if(T.bodyB)r.set(T.bodyB,!1),T.pointA=d.position;else for(var g=0;g<h.length;g++)if(M=h[g],a.contains(M.bounds,d.position)&&o.canCollide(M.collisionFilter,s.collisionFilter))for(var m=M.parts.length>1?1:0;m<M.parts.length;m++){var x=M.parts[m];if(l.contains(x.vertices,d.position)){T.pointA=d.position,T.bodyB=s.body=M,T.pointB={x:d.position.x-M.position.x,y:d.position.y-M.position.y},T.angleB=M.angle,r.set(M,!1),v.trigger(s,"startdrag",{mouse:d,body:M});break}}}else T.bodyB=s.body=null,T.pointB=null,M&&v.trigger(s,"enddrag",{mouse:d,body:M})},e._triggerEvents=function(s){var h=s.mouse,d=h.sourceEvents;d.mousemove&&v.trigger(s,"mousemove",{mouse:h}),d.mousedown&&v.trigger(s,"mousedown",{mouse:h}),d.mouseup&&v.trigger(s,"mouseup",{mouse:h}),n.clearSourceEvents(h)}})()},function(p,A,u){var e={};p.exports=e;var l=u(2),r=u(8),n=u(1),v=u(12),o=u(3);(function(){e.collides=function(f,i){for(var t=[],a=i.length,s=f.bounds,h=r.collides,d=n.overlaps,T=0;T<a;T++){var M=i[T],g=M.parts.length,m=g===1?0:1;if(d(M.bounds,s))for(var x=m;x<g;x++){var c=M.parts[x];if(d(c.bounds,s)){var C=h(c,f);if(C){t.push(C);break}}}}return t},e.ray=function(f,i,t,a){a=a||1e-100;for(var s=l.angle(i,t),h=l.magnitude(l.sub(i,t)),d=(t.x+i.x)*.5,T=(t.y+i.y)*.5,M=v.rectangle(d,T,h,a,{angle:s}),g=e.collides(M,f),m=0;m<g.length;m+=1){var x=g[m];x.body=x.bodyB=x.bodyA}return g},e.region=function(f,i,t){for(var a=[],s=0;s<f.length;s++){var h=f[s],d=n.overlaps(h.bounds,i);(d&&!t||!d&&t)&&a.push(h)}return a},e.point=function(f,i){for(var t=[],a=0;a<f.length;a++){var s=f[a];if(n.contains(s.bounds,i))for(var h=s.parts.length===1?0:1;h<s.parts.length;h++){var d=s.parts[h];if(n.contains(d.bounds,i)&&o.contains(d.vertices,i)){t.push(s);break}}}return t}})()},function(p,A,u){var e={};p.exports=e;var l=u(4),r=u(18),n=u(0);(function(){var v,o;if(typeof window!="undefined"&&(v=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!v){var f;v=function(i){f=setTimeout(function(){i(n.now())},1e3/60)},o=function(){clearTimeout(f)}}e.create=function(i){var t={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},a=n.extend(t,i);return a.delta=a.delta||1e3/a.fps,a.deltaMin=a.deltaMin||1e3/a.fps,a.deltaMax=a.deltaMax||1e3/(a.fps*.5),a.fps=1e3/a.delta,a},e.run=function(i,t){return typeof i.positionIterations!="undefined"&&(t=i,i=e.create()),function a(s){i.frameRequestId=v(a),s&&i.enabled&&e.tick(i,t,s)}(),i},e.tick=function(i,t,a){var s=t.timing,h=1,d,T={timestamp:s.timestamp};l.trigger(i,"beforeTick",T),i.isFixed?d=i.delta:(d=a-i.timePrev||i.delta,i.timePrev=a,i.deltaHistory.push(d),i.deltaHistory=i.deltaHistory.slice(-i.deltaSampleSize),d=Math.min.apply(null,i.deltaHistory),d=d<i.deltaMin?i.deltaMin:d,d=d>i.deltaMax?i.deltaMax:d,h=d/i.delta,i.delta=d),i.timeScalePrev!==0&&(h*=s.timeScale/i.timeScalePrev),s.timeScale===0&&(h=0),i.timeScalePrev=s.timeScale,i.correction=h,i.frameCounter+=1,a-i.counterTimestamp>=1e3&&(i.fps=i.frameCounter*((a-i.counterTimestamp)/1e3),i.counterTimestamp=a,i.frameCounter=0),l.trigger(i,"tick",T),l.trigger(i,"beforeUpdate",T),r.update(t,d,h),l.trigger(i,"afterUpdate",T),l.trigger(i,"afterTick",T)},e.stop=function(i){o(i.frameRequestId)},e.start=function(i,t){e.run(i,t)}})()},function(p,A,u){var e={};p.exports=e;var l=u(8),r=u(0),n=r.deprecated;(function(){e.collides=function(v,o){return l.collides(v,o)},n(e,"collides","SAT.collides \u27A4 replaced by Collision.collides")})()},function(p,A,u){var e={};p.exports=e,u(1);var l=u(0);(function(){e.pathToVertices=function(r,n){typeof window!="undefined"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var v,o,f,i,t,a,s,h,d,T,M=[],g,m,x=0,c=0,C=0;n=n||15;var S=function(w,E,B){var R=B%2===1&&B>1;if(!d||w!=d.x||E!=d.y){d&&R?(g=d.x,m=d.y):(g=0,m=0);var L={x:g+w,y:m+E};(R||!d)&&(d=L),M.push(L),c=g+w,C=m+E}},I=function(w){var E=w.pathSegTypeAsLetter.toUpperCase();if(E!=="Z"){switch(E){case"M":case"L":case"T":case"C":case"S":case"Q":c=w.x,C=w.y;break;case"H":c=w.x;break;case"V":C=w.y;break}S(c,C,w.pathSegType)}};for(e._svgPathToAbsolute(r),f=r.getTotalLength(),a=[],v=0;v<r.pathSegList.numberOfItems;v+=1)a.push(r.pathSegList.getItem(v));for(s=a.concat();x<f;){if(T=r.getPathSegAtLength(x),t=a[T],t!=h){for(;s.length&&s[0]!=t;)I(s.shift());h=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":i=r.getPointAtLength(x),S(i.x,i.y,0);break}x+=n}for(v=0,o=s.length;v<o;++v)I(s[v]);return M},e._svgPathToAbsolute=function(r){for(var n,v,o,f,i,t,a=r.pathSegList,s=0,h=0,d=a.numberOfItems,T=0;T<d;++T){var M=a.getItem(T),g=M.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(g))"x"in M&&(s=M.x),"y"in M&&(h=M.y);else switch("x1"in M&&(o=s+M.x1),"x2"in M&&(i=s+M.x2),"y1"in M&&(f=h+M.y1),"y2"in M&&(t=h+M.y2),"x"in M&&(s+=M.x),"y"in M&&(h+=M.y),g){case"m":a.replaceItem(r.createSVGPathSegMovetoAbs(s,h),T);break;case"l":a.replaceItem(r.createSVGPathSegLinetoAbs(s,h),T);break;case"h":a.replaceItem(r.createSVGPathSegLinetoHorizontalAbs(s),T);break;case"v":a.replaceItem(r.createSVGPathSegLinetoVerticalAbs(h),T);break;case"c":a.replaceItem(r.createSVGPathSegCurvetoCubicAbs(s,h,o,f,i,t),T);break;case"s":a.replaceItem(r.createSVGPathSegCurvetoCubicSmoothAbs(s,h,i,t),T);break;case"q":a.replaceItem(r.createSVGPathSegCurvetoQuadraticAbs(s,h,o,f),T);break;case"t":a.replaceItem(r.createSVGPathSegCurvetoQuadraticSmoothAbs(s,h),T);break;case"a":a.replaceItem(r.createSVGPathSegArcAbs(s,h,M.r1,M.r2,M.angle,M.largeArcFlag,M.sweepFlag),T);break;case"z":case"Z":s=n,h=v;break}(g=="M"||g=="m")&&(n=s,v=h)}}})()},function(p,A,u){var e={};p.exports=e;var l=u(5);u(0),function(){e.create=l.create,e.add=l.add,e.remove=l.remove,e.clear=l.clear,e.addComposite=l.addComposite,e.addBody=l.addBody,e.addConstraint=l.addConstraint}()}])})})(st);var Je=At(st.exports),It={decomp:Nt,quickDecomp:ge,isSimple:Ht,removeCollinearPoints:Wt,removeDuplicatePoints:Gt,makeCCW:Lt};function Tt(P,y,p){p=p||0;var A=[0,0],u,e,l,r,n,v,o;return u=P[1][1]-P[0][1],e=P[0][0]-P[1][0],l=u*P[0][0]+e*P[0][1],r=y[1][1]-y[0][1],n=y[0][0]-y[1][0],v=r*y[0][0]+n*y[0][1],o=u*n-r*e,Le(o,0,p)||(A[0]=(n*l-e*v)/o,A[1]=(u*v-r*l)/o),A}function We(P,y,p,A){var u=y[0]-P[0],e=y[1]-P[1],l=A[0]-p[0],r=A[1]-p[1];if(l*e-r*u===0)return!1;var n=(u*(p[1]-P[1])+e*(P[0]-p[0]))/(l*e-r*u),v=(l*(P[1]-p[1])+r*(p[0]-P[0]))/(r*u-l*e);return n>=0&&n<=1&&v>=0&&v<=1}function Me(P,y,p){return(y[0]-P[0])*(p[1]-P[1])-(p[0]-P[0])*(y[1]-P[1])}function Be(P,y,p){return Me(P,y,p)>0}function Ge(P,y,p){return Me(P,y,p)>=0}function ot(P,y,p){return Me(P,y,p)<0}function xe(P,y,p){return Me(P,y,p)<=0}var Et=[],Bt=[];function Rt(P,y,p,A){if(A){var u=Et,e=Bt;u[0]=y[0]-P[0],u[1]=y[1]-P[1],e[0]=p[0]-y[0],e[1]=p[1]-y[1];var l=u[0]*e[0]+u[1]*e[1],r=Math.sqrt(u[0]*u[0]+u[1]*u[1]),n=Math.sqrt(e[0]*e[0]+e[1]*e[1]),v=Math.acos(l/(r*n));return v<A}else return Me(P,y,p)===0}function pe(P,y){var p=y[0]-P[0],A=y[1]-P[1];return p*p+A*A}function F(P,y){var p=P.length;return P[y<0?y%p+p:y%p]}function kt(P){P.length=0}function Y(P,y,p,A){for(var u=p;u<A;u++)P.push(y[u])}function Lt(P){for(var y=0,p=P,A=1;A<P.length;++A)(p[A][1]<p[y][1]||p[A][1]===p[y][1]&&p[A][0]>p[y][0])&&(y=A);return Be(F(P,y-1),F(P,y),F(P,y+1))?!1:(Ft(P),!0)}function Ft(P){for(var y=[],p=P.length,A=0;A!==p;A++)y.push(P.pop());for(var A=0;A!==p;A++)P[A]=y[A]}function lt(P,y){return ot(F(P,y-1),F(P,y),F(P,y+1))}var Dt=[],Vt=[];function Ot(P,y,p){var A,u,e=Dt,l=Vt;if(Ge(F(P,y+1),F(P,y),F(P,p))&&xe(F(P,y-1),F(P,y),F(P,p)))return!1;u=pe(F(P,y),F(P,p));for(var r=0;r!==P.length;++r)if(!((r+1)%P.length===y||r===y)&&Ge(F(P,y),F(P,p),F(P,r+1))&&xe(F(P,y),F(P,p),F(P,r))&&(e[0]=F(P,y),e[1]=F(P,p),l[0]=F(P,r),l[1]=F(P,r+1),A=Tt(e,l),pe(F(P,y),A)<u))return!1;return!0}function bt(P,y,p){for(var A=0;A!==P.length;++A)if(!(A===y||A===p||(A+1)%P.length===y||(A+1)%P.length===p)&&We(F(P,y),F(P,p),F(P,A),F(P,A+1)))return!1;return!0}function ke(P,y,p,A){var u=A||[];if(kt(u),y<p)for(var e=y;e<=p;e++)u.push(P[e]);else{for(var e=0;e<=p;e++)u.push(P[e]);for(var e=y;e<P.length;e++)u.push(P[e])}return u}function Ue(P){for(var y=[],p=[],A=[],u=[],e=Number.MAX_VALUE,l=0;l<P.length;++l)if(lt(P,l)){for(var r=0;r<P.length;++r)if(Ot(P,l,r)){p=Ue(ke(P,l,r,u)),A=Ue(ke(P,r,l,u));for(var n=0;n<A.length;n++)p.push(A[n]);p.length<e&&(y=p,e=p.length,y.push([F(P,l),F(P,r)]))}}return y}function Nt(P){var y=Ue(P);return y.length>0?ft(P,y):[P]}function ft(P,y){if(y.length===0)return[P];if(y instanceof Array&&y.length&&y[0]instanceof Array&&y[0].length===2&&y[0][0]instanceof Array){for(var p=[P],A=0;A<y.length;A++)for(var u=y[A],e=0;e<p.length;e++){var l=p[e],r=ft(l,u);if(r){p.splice(e,1),p.push(r[0],r[1]);break}}return p}else{var u=y,A=P.indexOf(u[0]),e=P.indexOf(u[1]);return A!==-1&&e!==-1?[ke(P,A,e),ke(P,e,A)]:!1}}function Ht(P){var y=P,p;for(p=0;p<y.length-1;p++)for(var A=0;A<p-1;A++)if(We(y[p],y[p+1],y[A],y[A+1]))return!1;for(p=1;p<y.length-2;p++)if(We(y[0],y[y.length-1],y[p],y[p+1]))return!1;return!0}function it(P,y,p,A,u){u=u||0;var e=y[1]-P[1],l=P[0]-y[0],r=e*P[0]+l*P[1],n=A[1]-p[1],v=p[0]-A[0],o=n*p[0]+v*p[1],f=e*v-n*l;return Le(f,0,u)?[0,0]:[(v*r-l*o)/f,(e*o-n*r)/f]}function ge(P,y,p,A,u,e,l){e=e||100,l=l||0,u=u||25,y=typeof y!="undefined"?y:[],p=p||[],A=A||[];var r=[0,0],n=[0,0],v=[0,0],o=0,f=0,i=0,t=0,a=0,s=0,h=0,d=[],T=[],M=P,g=P;if(g.length<3)return y;if(l++,l>e)return console.warn("quickDecomp: max level ("+e+") reached."),y;for(var m=0;m<P.length;++m)if(lt(M,m)){p.push(M[m]),o=f=Number.MAX_VALUE;for(var x=0;x<P.length;++x)Be(F(M,m-1),F(M,m),F(M,x))&&xe(F(M,m-1),F(M,m),F(M,x-1))&&(v=it(F(M,m-1),F(M,m),F(M,x),F(M,x-1)),ot(F(M,m+1),F(M,m),v)&&(i=pe(M[m],v),i<f&&(f=i,n=v,s=x))),Be(F(M,m+1),F(M,m),F(M,x+1))&&xe(F(M,m+1),F(M,m),F(M,x))&&(v=it(F(M,m+1),F(M,m),F(M,x),F(M,x+1)),Be(F(M,m-1),F(M,m),v)&&(i=pe(M[m],v),i<o&&(o=i,r=v,a=x)));if(s===(a+1)%P.length)v[0]=(n[0]+r[0])/2,v[1]=(n[1]+r[1])/2,A.push(v),m<a?(Y(d,M,m,a+1),d.push(v),T.push(v),s!==0&&Y(T,M,s,M.length),Y(T,M,0,m+1)):(m!==0&&Y(d,M,m,M.length),Y(d,M,0,a+1),d.push(v),T.push(v),Y(T,M,s,m+1));else{if(s>a&&(a+=P.length),t=Number.MAX_VALUE,a<s)return y;for(var x=s;x<=a;++x)Ge(F(M,m-1),F(M,m),F(M,x))&&xe(F(M,m+1),F(M,m),F(M,x))&&(i=pe(F(M,m),F(M,x)),i<t&&bt(M,m,x)&&(t=i,h=x%P.length));m<h?(Y(d,M,m,h+1),h!==0&&Y(T,M,h,g.length),Y(T,M,0,m+1)):(m!==0&&Y(d,M,m,g.length),Y(d,M,0,h+1),Y(T,M,h,m+1))}return d.length<T.length?(ge(d,y,p,A,u,e,l),ge(T,y,p,A,u,e,l)):(ge(T,y,p,A,u,e,l),ge(d,y,p,A,u,e,l)),y}return y.push(P),y}function Wt(P,y){for(var p=0,A=P.length-1;P.length>3&&A>=0;--A)Rt(F(P,A-1),F(P,A),F(P,A+1),y)&&(P.splice(A%P.length,1),p++);return p}function Gt(P,y){for(var p=P.length-1;p>=1;--p)for(var A=P[p],u=p-1;u>=0;--u)if(Ut(A,P[u],y)){P.splice(p,1);continue}}function Le(P,y,p){return p=p||0,Math.abs(P-y)<=p}function Ut(P,y,p){return Le(P[0],y[0],p)&&Le(P[1],y[1],p)}const Fe=Mt(Je.Engine.create()),{World:$t,Events:zt,Composite:Qt}=Je,ye=Ve(.1),De=Ve(1),Se=Ve(1),Re=Ve(),ut=new class{constructor(){this.bodies=[],this.subscriptions=[],zt.on(me(Fe),"beforeUpdate",()=>{const y=Qt.allBodies(me(Fe).world).filter(p=>p!==me(Re));this.bodies=y,this.subscriptions.forEach(p=>p(y))})}subscribe(P){return this.subscriptions=[...this.subscriptions,P],P(this.bodies),()=>{this.subscriptions=this.subscriptions.filter(y=>y!=P)}}},ct=oe(ut,P=>P.length),Zt=P=>{for(let y=0;y<P;y++){const p=me(ut)[y];p!=null&&$t.remove(me(Fe).world,p)}};function Kt(P){let y,p,A,u,e;const l=P[3].default,r=ze(l,P,P[2],null);return{c(){y=q("button"),r&&r.c(),this.h()},l(n){y=j(n,"BUTTON",{class:!0});var v=ee(y);r&&r.l(v),v.forEach(b),this.h()},h(){U(y,"class",p="px-4 py-2 bg-gray-200 disabled:bg-gray-300 hover:bg-gray-300 active:bg-gray-400 rounded-lg diabled:active:bg-gray-300 "+P[0]),y.disabled=P[1]},m(n,v){Z(n,y,v),r&&r.m(y,null),A=!0,u||(e=He(y,"click",P[4]),u=!0)},p(n,[v]){r&&r.p&&(!A||v&4)&&Qe(r,l,n,n[2],A?Ke(l,n[2],v,null):Ze(n[2]),null),(!A||v&1&&p!==(p="px-4 py-2 bg-gray-200 disabled:bg-gray-300 hover:bg-gray-300 active:bg-gray-400 rounded-lg diabled:active:bg-gray-300 "+n[0]))&&U(y,"class",p),(!A||v&2)&&(y.disabled=n[1])},i(n){A||(ie(r,n),A=!0)},o(n){re(r,n),A=!1},d(n){n&&b(y),r&&r.d(n),u=!1,e()}}}function Jt(P,y,p){let{$$slots:A={},$$scope:u}=y,{extraClasses:e=""}=y,{disabled:l=!1}=y;function r(n){at.call(this,P,n)}return P.$$set=n=>{"extraClasses"in n&&p(0,e=n.extraClasses),"disabled"in n&&p(1,l=n.disabled),"$$scope"in n&&p(2,u=n.$$scope)},[e,l,u,A,r]}class vt extends we{constructor(y){super(),Ce(this,y,Jt,Kt,Pe,{extraClasses:0,disabled:1})}}function Xt(P){let y,p,A,u,e=Math.round(P[8]*100)/100+"",l,r,n=Math.round(P[5]*100)/100+"",v,o,f=P[5]==1?"":"s",i,t,a;return{c(){y=q("span"),p=$("("),A=$(P[6]),u=$(" -> "),l=$(e),r=$(" - "),v=$(n),o=$(" unit"),i=$(f),t=$("])"),this.h()},l(s){y=j(s,"SPAN",{class:!0});var h=ee(y);p=z(h,"("),A=z(h,P[6]),u=z(h," -> "),l=z(h,e),r=z(h," - "),v=z(h,n),o=z(h," unit"),i=z(h,f),t=z(h,"])"),h.forEach(b),this.h()},h(){U(y,"class",a="text-xs "+(P[7]?"text-red-700":"text-green-700"))},m(s,h){Z(s,y,h),W(y,p),W(y,A),W(y,u),W(y,l),W(y,r),W(y,v),W(y,o),W(y,i),W(y,t)},p(s,h){h&64&&le(A,s[6]),h&256&&e!==(e=Math.round(s[8]*100)/100+"")&&le(l,e),h&32&&n!==(n=Math.round(s[5]*100)/100+"")&&le(v,n),h&32&&f!==(f=s[5]==1?"":"s")&&le(i,f),h&128&&a!==(a="text-xs "+(s[7]?"text-red-700":"text-green-700"))&&U(y,"class",a)},d(s){s&&b(y)}}}function Yt(P){let y,p,A;return{c(){y=q("span"),p=$("(Maxed Out!)"),this.h()},l(u){y=j(u,"SPAN",{class:!0});var e=ee(y);p=z(e,"(Maxed Out!)"),e.forEach(b),this.h()},h(){U(y,"class",A="text-xs "+(P[7]?"text-gray-500":"text-gray-700"))},m(u,e){Z(u,y,e),W(y,p)},p(u,e){e&128&&A!==(A="text-xs "+(u[7]?"text-gray-500":"text-gray-700"))&&U(y,"class",A)},d(u){u&&b(y)}}}function qt(P){let y,p,A,u,e;const l=P[11].default,r=ze(l,P,P[12],null);function n(f,i){return(f[3]?f[4]>f[6]:f[4]<=f[6])?Yt:Xt}let v=n(P),o=v(P);return{c(){r&&r.c(),y=ae(),p=q("br"),A=ae(),o.c(),u=nt()},l(f){r&&r.l(f),y=se(f),p=j(f,"BR",{}),A=se(f),o.l(f),u=nt()},m(f,i){r&&r.m(f,i),Z(f,y,i),Z(f,p,i),Z(f,A,i),o.m(f,i),Z(f,u,i),e=!0},p(f,i){r&&r.p&&(!e||i&4096)&&Qe(r,l,f,f[12],e?Ke(l,f[12],i,null):Ze(f[12]),null),v===(v=n(f))&&o?o.p(f,i):(o.d(1),o=v(f),o&&(o.c(),o.m(u.parentNode,u)))},i(f){e||(ie(r,f),e=!0)},o(f){re(r,f),e=!1},d(f){r&&r.d(f),f&&b(y),f&&b(p),f&&b(A),o.d(f),f&&b(u)}}}function jt(P){let y,p;return y=new vt({props:{disabled:P[7],extraClasses:P[7]?"cursor-not-allowed text-gray-700":"",$$slots:{default:[qt]},$$scope:{ctx:P}}}),y.$on("click",P[9]),{c(){fe(y.$$.fragment)},l(A){ue(y.$$.fragment,A)},m(A,u){ce(y,A,u),p=!0},p(A,[u]){const e={};u&128&&(e.disabled=A[7]),u&128&&(e.extraClasses=A[7]?"cursor-not-allowed text-gray-700":""),u&4600&&(e.$$scope={dirty:u,ctx:A}),y.$set(e)},i(A){p||(ie(y.$$.fragment,A),p=!0)},o(A){re(y.$$.fragment,A),p=!1},d(A){ve(y,A)}}}function _t(P,y,p){let A,u,e=Ne,l=()=>(e(),e=be(h,c=>p(5,u=c)),h),r,n,v=Ne,o=()=>(v(),v=be(d,c=>p(6,n=c)),d),f,i=Ne,t=()=>(i(),i=be(T,c=>p(8,f=c)),T);ne(P,ct,c=>p(10,r=c)),P.$$.on_destroy.push(()=>e()),P.$$.on_destroy.push(()=>v()),P.$$.on_destroy.push(()=>i());let{$$slots:a={},$$scope:s}=y,{cost:h}=y;l();let{currentNumber:d}=y;o();let{nextNumber:T=oe(d,c=>c+1)}=y;t();let{negative:M=!1}=y,{max:g=M?0:Number.MAX_SAFE_INTEGER}=y;const m=xt();function x(){u>r||(Zt(u),m("successfullPurchase"))}return P.$$set=c=>{"cost"in c&&l(p(0,h=c.cost)),"currentNumber"in c&&o(p(1,d=c.currentNumber)),"nextNumber"in c&&t(p(2,T=c.nextNumber)),"negative"in c&&p(3,M=c.negative),"max"in c&&p(4,g=c.max),"$$scope"in c&&p(12,s=c.$$scope)},P.$$.update=()=>{P.$$.dirty&1144&&p(7,A=u>r||(M?g>n:g<=n))},[h,d,T,M,g,u,n,A,f,x,r,a,s]}class ht extends we{constructor(y){super(),Ce(this,y,_t,jt,Pe,{cost:0,currentNumber:1,nextNumber:2,negative:3,max:4})}}function en(P){let y;const p=P[5].default,A=ze(p,P,P[8],null);return{c(){A&&A.c()},l(u){A&&A.l(u)},m(u,e){A&&A.m(u,e),y=!0},p(u,e){A&&A.p&&(!y||e&256)&&Qe(A,p,u,u[8],y?Ke(p,u[8],e,null):Ze(u[8]),null)},i(u){y||(ie(A,u),y=!0)},o(u){re(A,u),y=!1},d(u){A&&A.d(u)}}}function tn(P){let y,p;return y=new ht({props:{cost:P[0],currentNumber:P[1],max:P[3],negative:P[4],nextNumber:oe(P[1],P[6]),$$slots:{default:[en]},$$scope:{ctx:P}}}),y.$on("successfullPurchase",P[7]),{c(){fe(y.$$.fragment)},l(A){ue(y.$$.fragment,A)},m(A,u){ce(y,A,u),p=!0},p(A,[u]){const e={};u&1&&(e.cost=A[0]),u&2&&(e.currentNumber=A[1]),u&8&&(e.max=A[3]),u&16&&(e.negative=A[4]),u&6&&(e.nextNumber=oe(A[1],A[6])),u&256&&(e.$$scope={dirty:u,ctx:A}),y.$set(e)},i(A){p||(ie(y.$$.fragment,A),p=!0)},o(A){re(y.$$.fragment,A),p=!1},d(A){ve(y,A)}}}function nn(P,y,p){let{$$slots:A={},$$scope:u}=y,{cost:e}=y,{currentNumber:l}=y,{nextStep:r}=y,{max:n}=y,{negative:v=!1}=y;const o=i=>i+r;function f(i){at.call(this,P,i)}return P.$$set=i=>{"cost"in i&&p(0,e=i.cost),"currentNumber"in i&&p(1,l=i.currentNumber),"nextStep"in i&&p(2,r=i.nextStep),"max"in i&&p(3,n=i.max),"negative"in i&&p(4,v=i.negative),"$$scope"in i&&p(8,u=i.$$scope)},[e,l,r,n,v,A,o,f,u]}class rt extends we{constructor(y){super(),Ce(this,y,nn,tn,Pe,{cost:0,currentNumber:1,nextStep:2,max:3,negative:4})}}function rn(P){let y;return{c(){y=$("Increase amount")},l(p){y=z(p,"Increase amount")},m(p,A){Z(p,y,A)},d(p){p&&b(y)}}}function an(P){let y;return{c(){y=$("Increase friction")},l(p){y=z(p,"Increase friction")},m(p,A){Z(p,y,A)},d(p){p&&b(y)}}}function sn(P){let y;return{c(){y=$("Decrease Bounciness")},l(p){y=z(p,"Decrease Bounciness")},m(p,A){Z(p,y,A)},d(p){p&&b(y)}}}function on(P){let y,p,A,u,e,l,r,n,v,o,f;return l=new ht({props:{cost:oe(Se,ln),currentNumber:Se,$$slots:{default:[rn]},$$scope:{ctx:P}}}),l.$on("successfullPurchase",P[3]),n=new rt({props:{cost:oe(ye,fn),currentNumber:ye,max:1,nextStep:.1,$$slots:{default:[an]},$$scope:{ctx:P}}}),n.$on("successfullPurchase",P[4]),o=new rt({props:{cost:oe(De,un),currentNumber:De,negative:!0,max:0,nextStep:-.1,$$slots:{default:[sn]},$$scope:{ctx:P}}}),o.$on("successfullPurchase",P[5]),{c(){y=q("div"),p=q("h1"),A=$("Shop"),u=ae(),e=q("div"),fe(l.$$.fragment),r=ae(),fe(n.$$.fragment),v=ae(),fe(o.$$.fragment),this.h()},l(i){y=j(i,"DIV",{class:!0});var t=ee(y);p=j(t,"H1",{class:!0});var a=ee(p);A=z(a,"Shop"),a.forEach(b),u=se(t),e=j(t,"DIV",{class:!0});var s=ee(e);ue(l.$$.fragment,s),r=se(s),ue(n.$$.fragment,s),v=se(s),ue(o.$$.fragment,s),s.forEach(b),t.forEach(b),this.h()},h(){U(p,"class","text-2xl mb-8"),U(e,"class","block"),U(y,"class","font-display")},m(i,t){Z(i,y,t),W(y,p),W(p,A),W(y,u),W(y,e),ce(l,e,null),W(e,r),ce(n,e,null),W(e,v),ce(o,e,null),f=!0},p(i,[t]){const a={};t&64&&(a.$$scope={dirty:t,ctx:i}),l.$set(a);const s={};t&64&&(s.$$scope={dirty:t,ctx:i}),n.$set(s);const h={};t&64&&(h.$$scope={dirty:t,ctx:i}),o.$set(h)},i(i){f||(ie(l.$$.fragment,i),ie(n.$$.fragment,i),ie(o.$$.fragment,i),f=!0)},o(i){re(l.$$.fragment,i),re(n.$$.fragment,i),re(o.$$.fragment,i),f=!1},d(i){i&&b(y),ve(l),ve(n),ve(o)}}}const ln=P=>P*30,fn=P=>P*200,un=P=>(1.1-P)*300;function cn(P,y,p){let A,u,e;return ne(P,Se,v=>p(0,A=v)),ne(P,ye,v=>p(1,u=v)),ne(P,De,v=>p(2,e=v)),[A,u,e,()=>de(Se,A=A+1,A),()=>de(ye,u=u+.1,u),()=>de(De,e=e-.1,e)]}class vn extends we{constructor(y){super(),Ce(this,y,cn,on,Pe,{})}}var $e={exports:{}};(function(P,y){(function(p,A){{var u=A();P&&P.exports&&(y=P.exports=u),y.randomColor=u}})(Ee,function(){var p=null,A={};d();var u=[],e=function(c){if(c=c||{},c.seed!==void 0&&c.seed!==null&&c.seed===parseInt(c.seed,10))p=c.seed;else if(typeof c.seed=="string")p=m(c.seed);else{if(c.seed!==void 0&&c.seed!==null)throw new TypeError("The seed value must be an integer or string");p=null}var C,S,I;if(c.count!==null&&c.count!==void 0){for(var w=c.count,E=[],B=0;B<c.count;B++)u.push(!1);for(c.count=null;w>E.length;){var R=e(c);p!==null&&(c.seed=p),E.push(R)}return c.count=w,E}return C=l(c),S=r(C,c),I=n(C,S,c),v([C,S,I],c)};function l(c){if(u.length>0){var C=x(c.hue),S=a(C),I=(C[1]-C[0])/u.length,w=parseInt((S-C[0])/I);u[w]===!0?w=(w+2)%u.length:u[w]=!0;var E=(C[0]+w*I)%359,B=(C[0]+(w+1)*I)%359;return C=[E,B],S=a(C),S<0&&(S=360+S),S}else{var C=f(c.hue);return S=a(C),S<0&&(S=360+S),S}}function r(c,C){if(C.hue==="monochrome")return 0;if(C.luminosity==="random")return a([0,100]);var S=i(c),I=S[0],w=S[1];switch(C.luminosity){case"bright":I=55;break;case"dark":I=w-10;break;case"light":w=55;break}return a([I,w])}function n(c,C,S){var I=o(c,C),w=100;switch(S.luminosity){case"dark":w=I+20;break;case"light":I=(w+I)/2;break;case"random":I=0,w=100;break}return a([I,w])}function v(c,C){switch(C.format){case"hsvArray":return c;case"hslArray":return g(c);case"hsl":var S=g(c);return"hsl("+S[0]+", "+S[1]+"%, "+S[2]+"%)";case"hsla":var I=g(c),B=C.alpha||Math.random();return"hsla("+I[0]+", "+I[1]+"%, "+I[2]+"%, "+B+")";case"rgbArray":return T(c);case"rgb":var w=T(c);return"rgb("+w.join(", ")+")";case"rgba":var E=T(c),B=C.alpha||Math.random();return"rgba("+E.join(", ")+", "+B+")";default:return s(c)}}function o(c,C){for(var S=t(c).lowerBounds,I=0;I<S.length-1;I++){var w=S[I][0],E=S[I][1],B=S[I+1][0],R=S[I+1][1];if(C>=w&&C<=B){var L=(R-E)/(B-w),k=E-L*w;return L*C+k}}return 0}function f(c){if(typeof parseInt(c)=="number"){var C=parseInt(c);if(C<360&&C>0)return[C,C]}if(typeof c=="string"){if(A[c]){var S=A[c];if(S.hueRange)return S.hueRange}else if(c.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var I=M(c)[0];return[I,I]}}return[0,360]}function i(c){return t(c).saturationRange}function t(c){c>=334&&c<=360&&(c-=360);for(var C in A){var S=A[C];if(S.hueRange&&c>=S.hueRange[0]&&c<=S.hueRange[1])return A[C]}return"Color not found"}function a(c){if(p===null){var C=.618033988749895,S=Math.random();return S+=C,S%=1,Math.floor(c[0]+S*(c[1]+1-c[0]))}else{var I=c[1]||1,w=c[0]||0;p=(p*9301+49297)%233280;var E=p/233280;return Math.floor(w+E*(I-w))}}function s(c){var C=T(c);function S(w){var E=w.toString(16);return E.length==1?"0"+E:E}var I="#"+S(C[0])+S(C[1])+S(C[2]);return I}function h(c,C,S){var I=S[0][0],w=S[S.length-1][0],E=S[S.length-1][1],B=S[0][1];A[c]={hueRange:C,lowerBounds:S,saturationRange:[I,w],brightnessRange:[E,B]}}function d(){h("monochrome",null,[[0,0],[100,0]]),h("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),h("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),h("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),h("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),h("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),h("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),h("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function T(c){var C=c[0];C===0&&(C=1),C===360&&(C=359),C=C/360;var S=c[1]/100,I=c[2]/100,w=Math.floor(C*6),E=C*6-w,B=I*(1-S),R=I*(1-E*S),L=I*(1-(1-E)*S),k=256,D=256,O=256;switch(w){case 0:k=I,D=L,O=B;break;case 1:k=R,D=I,O=B;break;case 2:k=B,D=I,O=L;break;case 3:k=B,D=R,O=I;break;case 4:k=L,D=B,O=I;break;case 5:k=I,D=B,O=R;break}var V=[Math.floor(k*255),Math.floor(D*255),Math.floor(O*255)];return V}function M(c){c=c.replace(/^#/,""),c=c.length===3?c.replace(/(.)/g,"$1$1"):c;var C=parseInt(c.substr(0,2),16)/255,S=parseInt(c.substr(2,2),16)/255,I=parseInt(c.substr(4,2),16)/255,w=Math.max(C,S,I),E=w-Math.min(C,S,I),B=w?E/w:0;switch(w){case C:return[60*((S-I)/E%6)||0,B,w];case S:return[60*((I-C)/E+2)||0,B,w];case I:return[60*((C-S)/E+4)||0,B,w]}}function g(c){var C=c[0],S=c[1]/100,I=c[2]/100,w=(2-S)*I;return[C,Math.round(S*I/(w<1?w:2-w)*1e4)/100,w/2*100]}function m(c){for(var C=0,S=0;S!==c.length&&!(C>=Number.MAX_SAFE_INTEGER);S++)C+=c.charCodeAt(S);return C}function x(c){if(isNaN(c)){if(typeof c=="string"){if(A[c]){var S=A[c];if(S.hueRange)return S.hueRange}else if(c.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var I=M(c)[0];return t(I).hueRange}}}else{var C=parseInt(c);if(C<360&&C>0)return t(c).hueRange}return[0,360]}return e})})($e,$e.exports);var hn=$e.exports;const{window:gn}=wt;function mn(P){let y;return{c(){y=$("Shop")},l(p){y=z(p,"Shop")},m(p,A){Z(p,y,A)},d(p){p&&b(y)}}}function dn(P){let y,p,A,u,e,l,r,n,v,o=P[3]==1?"":"s",f,i,t,a,s,h;return t=new vt({props:{extraClasses:"mt-4 w-min",$$slots:{default:[mn]},$$scope:{ctx:P}}}),t.$on("click",P[4]),{c(){y=q("canvas"),p=ae(),A=q("div"),u=q("div"),e=ae(),l=q("div"),r=q("p"),n=$(P[3]),v=$(" unit"),f=$(o),i=ae(),fe(t.$$.fragment),this.h()},l(d){y=j(d,"CANVAS",{width:!0,height:!0,class:!0}),ee(y).forEach(b),p=se(d),A=j(d,"DIV",{class:!0});var T=ee(A);u=j(T,"DIV",{class:!0}),ee(u).forEach(b),T.forEach(b),e=se(d),l=j(d,"DIV",{class:!0});var M=ee(l);r=j(M,"P",{class:!0});var g=ee(r);n=z(g,P[3]),v=z(g," unit"),f=z(g,o),g.forEach(b),i=se(M),ue(t.$$.fragment,M),M.forEach(b),this.h()},h(){U(y,"width",P[1]),U(y,"height",P[2]),U(y,"class","fixed top-0 left-0 z--10"),U(u,"class","border-[50px] border-transparent w-24 h-24 bg-black rounded-full hover:scale-110 hover:cursor-pointer transition-all"),U(A,"class","fixed top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]"),U(r,"class","font-thin text-3xl border-b-[1px] pb-2 border-gray-200"),U(l,"class","my-8 mx-auto text-center top-0 left-0 w-screen fixed flex flex-col items-center font-display")},m(d,T){Z(d,y,T),P[8](y),Z(d,p,T),Z(d,A,T),W(A,u),Z(d,e,T),Z(d,l,T),W(l,r),W(r,n),W(r,v),W(r,f),W(l,i),ce(t,l,null),a=!0,s||(h=[He(gn,"resize",P[7]),He(u,"click",P[6])],s=!0)},p(d,[T]){(!a||T&2)&&U(y,"width",d[1]),(!a||T&4)&&U(y,"height",d[2]),(!a||T&8)&&le(n,d[3]),(!a||T&8)&&o!==(o=d[3]==1?"":"s")&&le(f,o);const M={};T&16777216&&(M.$$scope={dirty:T,ctx:d}),t.$set(M)},i(d){a||(ie(t.$$.fragment,d),a=!0)},o(d){re(t.$$.fragment,d),a=!1},d(d){d&&b(y),P[8](null),d&&b(p),d&&b(A),d&&b(e),d&&b(l),ve(t),s=!1,pt(h)}}}function xn(P,y,p){let A,u,e,l,r;ne(P,Fe,w=>p(9,A=w)),ne(P,ye,w=>p(10,u=w)),ne(P,Se,w=>p(11,e=w)),ne(P,Re,w=>p(12,l=w)),ne(P,ct,w=>p(3,r=w));const{Composite:n,Common:v,Bodies:o,World:f,Body:i,Runner:t,Events:a,Mouse:s,MouseConstraint:h}=Je,{open:d}=yt("simple-modal"),T=()=>d(vn,{},{transitionWindow:Pt,transitionWindowProps:{duration:50}});let M;function g(){l&&f.remove(A.world,l),de(Re,l=o.rectangle(m/2,x,m,20,{isStatic:!0}),l),de(Re,l.render.fillStyle="#444",l),n.add(A.world,[l])}St(()=>{p(1,m=document.documentElement.clientWidth),p(2,x=document.documentElement.clientHeight),v.setDecomp(It),a.on(A,"beforeUpdate",()=>{const L=n.allBodies(A.world);for(const k of L)!k.isStatic&&(k.position.y>x||k.position.x<-100||k.position.x>m+100||k.position.y<-100)&&f.remove(A.world,k)});const w=t.create();w.isFixed=!0,t.run(w,A),g();const E=s.create(M),B=h.create(A,{mouse:E,constraint:{stiffness:.2,render:{visible:!0}}});n.add(A.world,B);const R=M.getContext("2d");(function L(){const k=n.allBodies(A.world);window.requestAnimationFrame(L),R.fillStyle="#ffffff",R.fillRect(0,0,M.width,M.height);for(const D of k)for(const O of D.parts){const V=O.vertices;R.beginPath(),R.moveTo(V[0].x,V[0].y);for(const N of V)R.lineTo(N.x,N.y);R.lineTo(V[0].x,V[0].y),R.closePath(),R.lineWidth=0,R.strokeStyle="rgba(1, 1, 1, 0)",R.globalAlpha=O.render.opacity,R.fillStyle=O.render.fillStyle,R.fill()}})()});let m=600,x=600;const c=(w,E)=>Math.random()*(E-w+1)+w;function C(){for(let w=0;w<e;w++){const E=c(16,32),B=o.circle(c(60,m-60),0,E);i.setMass(B,E),B.restitution=1,B.friction=u,B.render.fillStyle=hn({hue:"monochrome",luminosity:"light"}),f.add(A.world,B)}}const S=()=>{p(1,m=document.documentElement.clientWidth),p(2,x=document.documentElement.clientHeight),g()};function I(w){Ct[w?"unshift":"push"](()=>{M=w,p(0,M)})}return[M,m,x,r,T,g,C,S,I]}class wn extends we{constructor(y){super(),Ce(this,y,xn,dn,Pe,{})}}export{wn as default};
